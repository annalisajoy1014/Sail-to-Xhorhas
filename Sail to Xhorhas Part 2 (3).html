<!DOCTYPE html><html><head><title>Sail to Xhorhas Part 2</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15}#backstage{--backstage-ui-padding:8px;--backstage-bg:var(--oc-gray-3);--backstage-fg:#000;--backstage-input-bg:transparent;--backstage-input-fg:var(--backstage-fg);--backstage-input-border:var(--backstage-fg);--backstage-table-border:var(--backstage-fg);--backstage-font-size:12px;--backstage-tab-height:28px}:root{--font-monospaced:"Courier New","Courier",monospace;--font-system:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu Cantarell,"Helvetica Neue",sans-serif}.small-caps{font-size:70%;letter-spacing:.075em;text-transform:uppercase}#backstage .panel h2{margin:0}#backstage .panel h2 button{background:none;border:none;font-size:calc(var(--backstage-font-size) - 1px);font-weight:400;padding:0 var(--backstage-ui-padding);text-align:left;width:100%}#backstage .panel h2 button:before{content:"►";display:inline-block;width:1.25em}#backstage .panel h2 button:hover{color:var(--oc-gray-7)}#backstage .panel.open h2 button:before{content:"▼"}
:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15}#backstage{--backstage-ui-padding:8px;--backstage-bg:var(--oc-gray-3);--backstage-fg:#000;--backstage-input-bg:transparent;--backstage-input-fg:var(--backstage-fg);--backstage-input-border:var(--backstage-fg);--backstage-table-border:var(--backstage-fg);--backstage-font-size:12px;--backstage-tab-height:28px}#backstage table.history td.actions{width:2.5em}#backstage table.history td.go{border-right:1px solid var(--backstage-fg)}
:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15}#backstage{--backstage-ui-padding:8px;--backstage-bg:var(--oc-gray-3);--backstage-fg:#000;--backstage-input-bg:transparent;--backstage-input-fg:var(--backstage-fg);--backstage-input-border:var(--backstage-fg);--backstage-table-border:var(--backstage-fg);--backstage-font-size:12px;--backstage-tab-height:28px}#backstage ul.tabs{border:1px solid var(--backstage-fg);display:flex;font-size:12px;list-style:none;margin:var(--backstage-ui-padding);padding:0}#backstage ul.tabs li{border-right:1px solid var(--backstage-fg);flex-grow:1;text-align:center}#backstage ul.tabs li:last-child{border-right:none}#backstage ul.tabs li button{border:none;border-radius:0;color:var(--backstage-fg);display:block;height:var(--backstage-tab-height);padding:var(--backstage-ui-padding);text-decoration:none;width:100%}#backstage ul.tabs li button.active{background:var(--backstage-fg);color:var(--backstage-bg)}#backstage .tab-content{max-height:calc(100vh - var(--backstage-tab-height));overflow:auto}
:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15;--page-margin:1em;--page-width:40em;--font-monospaced:"Courier New","Courier",monospace;--font-system:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu Cantarell,"Helvetica Neue",sans-serif}.small-caps{font-size:70%;letter-spacing:.075em;text-transform:uppercase}#backstage{--backstage-ui-padding:8px;--backstage-bg:var(--oc-gray-3);--backstage-fg:#000;--backstage-input-bg:transparent;--backstage-input-fg:var(--backstage-fg);--backstage-input-border:var(--backstage-fg);--backstage-table-border:var(--backstage-fg);--backstage-font-size:12px;--backstage-tab-height:28px}body.backstage-visible #backdrop{justify-content:flex-start;max-width:67vw}#backstage{bottom:0;box-shadow:inset 2px 0 3px rgba(0,0,0,.25);color:var(--backstage-fg);font:18px var(--font-system);max-height:100vh;position:fixed;right:0;top:0;transform:translateX(100%);width:33vw}#backstage,#backstage:before{background:var(--backstage-bg)}#backstage:before{content:"";height:50px;position:absolute;right:calc(100% - 4px);top:calc(50% - 25px);width:4px;z-index:2}@media screen and (max-width:425px){#backstage{width:calc(100vw - 25px)}}#backstage.open{transform:none}#backstage .toggle-visibility{background:var(--backstage-bg);border:none;border-bottom-left-radius:25px;border-bottom-right-radius:0;border-top-left-radius:25px;border-top-right-radius:0;box-shadow:inset 2px 0 3px rgba(0,0,0,.25);color:var(--backstage-fg);font-size:18px;height:50px;padding:0;position:absolute;right:100%;top:calc(50% - 25px);width:25px;z-index:1}#backstage button{background:var(--backstage-input-bg);border:1px solid var(--backstage-input-border);border-radius:calc(var(--backstage-ui-padding)*2);color:var(--backstage-input-fg);padding:var(--backstage-ui-padding)}#backstage button:hover{background:var(--oc-gray-2)}#backstage p{padding:0 var(--backstage-ui-padding)}#backstage li,#backstage p,#backstage td{font-size:var(--backstage-font-size)}#backstage input,#backstage select{background:var(--backstage-input-bg);border:1px solid var(--backstage-input-border);color:var(--backstage-input-fg);padding:var(--backstage-ui-padding)}#backstage table{background:var(--backstage-input-bg);border-collapse:collapse;margin:var(--backstage-ui-padding);table-layout:fixed;width:calc(100% - var(--backstage-ui-padding)*2)}#backstage th{text-align:left}#backstage td{border:1px solid var(--backstage-table-border);padding:var(--backstage-ui-padding);position:relative;vertical-align:top}#backstage td:first-child{border-left:none}#backstage td:last-child{border-right:none}#backstage td button,#backstage td input{background:none;border:none;border-radius:0;bottom:0;left:0;padding:var(--backstage-ui-padding);position:absolute;top:0;width:100%}#backstage textarea{background:var(--backstage-input-bg);border:1px solid var(--backstage-input-border);color:var(--backstage-input-fg);height:7.75em;padding:var(--backstage-ui-padding);width:100%}#backstage .block{display:block;margin:var(--backstage-ui-padding);width:calc(100% - var(--backstage-ui-padding)*2)}#backstage .disabled{color:var(--oc-gray-6)}#backstage .indented-input{font-size:12px;margin-left:calc(10em + var(--backstage-ui-padding))}#backstage .input-group{align-items:center;display:flex}#backstage .input-group label:first-child{margin-right:var(--backstage-ui-padding);text-align:right;width:10em}#backstage .input-group input,#backstage .input-group select{flex-grow:1}#backstage .segmented-button{display:flex}#backstage .segmented-button button{border-left:none;border-radius:0;flex-grow:1;margin:0}#backstage .segmented-button button:first-child{border-bottom-left-radius:calc(var(--backstage-ui-padding)*2);border-left:1px solid var(--backstage-input-border);border-top-left-radius:calc(var(--backstage-ui-padding)*2)}#backstage .segmented-button button:last-child{border-bottom-right-radius:calc(var(--backstage-ui-padding)*2);border-top-right-radius:calc(var(--backstage-ui-padding)*2)}#backstage .segmented-button .fixed{flex-grow:0;min-width:24px}#backstage .tab-content{max-height:calc(100vh - var(--backstage-tab-height));overflow:auto}
.fade-in{animation:fade-in 1s ease-out forwards;opacity:0}.fade-out{animation:fade-in 1s ease-out reverse forwards}.skip-animation{animation-delay:0s!important}@keyframes fade-in{0%{opacity:0}to{opacity:1}}
#page .warnings{list-style-type:none;margin-left:0;padding-left:0}
:root{--oc-white:#fff;--oc-white-rgb:255,255,255;--oc-black:#000;--oc-black-rgb:0,0,0;--oc-gray-0:#f8f9fa;--oc-gray-0-rgb:248,249,250;--oc-gray-1:#f1f3f5;--oc-gray-1-rgb:241,243,245;--oc-gray-2:#e9ecef;--oc-gray-2-rgb:233,236,239;--oc-gray-3:#dee2e6;--oc-gray-3-rgb:222,226,230;--oc-gray-4:#ced4da;--oc-gray-4-rgb:206,212,218;--oc-gray-5:#adb5bd;--oc-gray-5-rgb:173,181,189;--oc-gray-6:#868e96;--oc-gray-6-rgb:134,142,150;--oc-gray-7:#495057;--oc-gray-7-rgb:73,80,87;--oc-gray-8:#343a40;--oc-gray-8-rgb:52,58,64;--oc-gray-9:#212529;--oc-gray-9-rgb:33,37,41;--oc-red-0:#fff5f5;--oc-red-0-rgb:255,245,245;--oc-red-1:#ffe3e3;--oc-red-1-rgb:255,227,227;--oc-red-2:#ffc9c9;--oc-red-2-rgb:255,201,201;--oc-red-3:#ffa8a8;--oc-red-3-rgb:255,168,168;--oc-red-4:#ff8787;--oc-red-4-rgb:255,135,135;--oc-red-5:#ff6b6b;--oc-red-5-rgb:255,107,107;--oc-red-6:#fa5252;--oc-red-6-rgb:250,82,82;--oc-red-7:#f03e3e;--oc-red-7-rgb:240,62,62;--oc-red-8:#e03131;--oc-red-8-rgb:224,49,49;--oc-red-9:#c92a2a;--oc-red-9-rgb:201,42,42;--oc-pink-0:#fff0f6;--oc-pink-0-rgb:255,240,246;--oc-pink-1:#ffdeeb;--oc-pink-1-rgb:255,222,235;--oc-pink-2:#fcc2d7;--oc-pink-2-rgb:252,194,215;--oc-pink-3:#faa2c1;--oc-pink-3-rgb:250,162,193;--oc-pink-4:#f783ac;--oc-pink-4-rgb:247,131,172;--oc-pink-5:#f06595;--oc-pink-5-rgb:240,101,149;--oc-pink-6:#e64980;--oc-pink-6-rgb:230,73,128;--oc-pink-7:#d6336c;--oc-pink-7-rgb:214,51,108;--oc-pink-8:#c2255c;--oc-pink-8-rgb:194,37,92;--oc-pink-9:#a61e4d;--oc-pink-9-rgb:166,30,77;--oc-grape-0:#f8f0fc;--oc-grape-0-rgb:248,240,252;--oc-grape-1:#f3d9fa;--oc-grape-1-rgb:243,217,250;--oc-grape-2:#eebefa;--oc-grape-2-rgb:238,190,250;--oc-grape-3:#e599f7;--oc-grape-3-rgb:229,153,247;--oc-grape-4:#da77f2;--oc-grape-4-rgb:218,119,242;--oc-grape-5:#cc5de8;--oc-grape-5-rgb:204,93,232;--oc-grape-6:#be4bdb;--oc-grape-6-rgb:190,75,219;--oc-grape-7:#ae3ec9;--oc-grape-7-rgb:174,62,201;--oc-grape-8:#9c36b5;--oc-grape-8-rgb:156,54,181;--oc-grape-9:#862e9c;--oc-grape-9-rgb:134,46,156;--oc-violet-0:#f3f0ff;--oc-violet-0-rgb:243,240,255;--oc-violet-1:#e5dbff;--oc-violet-1-rgb:229,219,255;--oc-violet-2:#d0bfff;--oc-violet-2-rgb:208,191,255;--oc-violet-3:#b197fc;--oc-violet-3-rgb:177,151,252;--oc-violet-4:#9775fa;--oc-violet-4-rgb:151,117,250;--oc-violet-5:#845ef7;--oc-violet-5-rgb:132,94,247;--oc-violet-6:#7950f2;--oc-violet-6-rgb:121,80,242;--oc-violet-7:#7048e8;--oc-violet-7-rgb:112,72,232;--oc-violet-8:#6741d9;--oc-violet-8-rgb:103,65,217;--oc-violet-9:#5f3dc4;--oc-violet-9-rgb:95,61,196;--oc-indigo-0:#edf2ff;--oc-indigo-0-rgb:237,242,255;--oc-indigo-1:#dbe4ff;--oc-indigo-1-rgb:219,228,255;--oc-indigo-2:#bac8ff;--oc-indigo-2-rgb:186,200,255;--oc-indigo-3:#91a7ff;--oc-indigo-3-rgb:145,167,255;--oc-indigo-4:#748ffc;--oc-indigo-4-rgb:116,143,252;--oc-indigo-5:#5c7cfa;--oc-indigo-5-rgb:92,124,250;--oc-indigo-6:#4c6ef5;--oc-indigo-6-rgb:76,110,245;--oc-indigo-7:#4263eb;--oc-indigo-7-rgb:66,99,235;--oc-indigo-8:#3b5bdb;--oc-indigo-8-rgb:59,91,219;--oc-indigo-9:#364fc7;--oc-indigo-9-rgb:54,79,199;--oc-blue-0:#e7f5ff;--oc-blue-0-rgb:231,245,255;--oc-blue-1:#d0ebff;--oc-blue-1-rgb:208,235,255;--oc-blue-2:#a5d8ff;--oc-blue-2-rgb:165,216,255;--oc-blue-3:#74c0fc;--oc-blue-3-rgb:116,192,252;--oc-blue-4:#4dabf7;--oc-blue-4-rgb:77,171,247;--oc-blue-5:#339af0;--oc-blue-5-rgb:51,154,240;--oc-blue-6:#228be6;--oc-blue-6-rgb:34,139,230;--oc-blue-7:#1c7ed6;--oc-blue-7-rgb:28,126,214;--oc-blue-8:#1971c2;--oc-blue-8-rgb:25,113,194;--oc-blue-9:#1864ab;--oc-blue-9-rgb:24,100,171;--oc-cyan-0:#e3fafc;--oc-cyan-0-rgb:227,250,252;--oc-cyan-1:#c5f6fa;--oc-cyan-1-rgb:197,246,250;--oc-cyan-2:#99e9f2;--oc-cyan-2-rgb:153,233,242;--oc-cyan-3:#66d9e8;--oc-cyan-3-rgb:102,217,232;--oc-cyan-4:#3bc9db;--oc-cyan-4-rgb:59,201,219;--oc-cyan-5:#22b8cf;--oc-cyan-5-rgb:34,184,207;--oc-cyan-6:#15aabf;--oc-cyan-6-rgb:21,170,191;--oc-cyan-7:#1098ad;--oc-cyan-7-rgb:16,152,173;--oc-cyan-8:#0c8599;--oc-cyan-8-rgb:12,133,153;--oc-cyan-9:#0b7285;--oc-cyan-9-rgb:11,114,133;--oc-teal-0:#e6fcf5;--oc-teal-0-rgb:230,252,245;--oc-teal-1:#c3fae8;--oc-teal-1-rgb:195,250,232;--oc-teal-2:#96f2d7;--oc-teal-2-rgb:150,242,215;--oc-teal-3:#63e6be;--oc-teal-3-rgb:99,230,190;--oc-teal-4:#38d9a9;--oc-teal-4-rgb:56,217,169;--oc-teal-5:#20c997;--oc-teal-5-rgb:32,201,151;--oc-teal-6:#12b886;--oc-teal-6-rgb:18,184,134;--oc-teal-7:#0ca678;--oc-teal-7-rgb:12,166,120;--oc-teal-8:#099268;--oc-teal-8-rgb:9,146,104;--oc-teal-9:#087f5b;--oc-teal-9-rgb:8,127,91;--oc-green-0:#ebfbee;--oc-green-0-rgb:235,251,238;--oc-green-1:#d3f9d8;--oc-green-1-rgb:211,249,216;--oc-green-2:#b2f2bb;--oc-green-2-rgb:178,242,187;--oc-green-3:#8ce99a;--oc-green-3-rgb:140,233,154;--oc-green-4:#69db7c;--oc-green-4-rgb:105,219,124;--oc-green-5:#51cf66;--oc-green-5-rgb:81,207,102;--oc-green-6:#40c057;--oc-green-6-rgb:64,192,87;--oc-green-7:#37b24d;--oc-green-7-rgb:55,178,77;--oc-green-8:#2f9e44;--oc-green-8-rgb:47,158,68;--oc-green-9:#2b8a3e;--oc-green-9-rgb:43,138,62;--oc-lime-0:#f4fce3;--oc-lime-0-rgb:244,252,227;--oc-lime-1:#e9fac8;--oc-lime-1-rgb:233,250,200;--oc-lime-2:#d8f5a2;--oc-lime-2-rgb:216,245,162;--oc-lime-3:#c0eb75;--oc-lime-3-rgb:192,235,117;--oc-lime-4:#a9e34b;--oc-lime-4-rgb:169,227,75;--oc-lime-5:#94d82d;--oc-lime-5-rgb:148,216,45;--oc-lime-6:#82c91e;--oc-lime-6-rgb:130,201,30;--oc-lime-7:#74b816;--oc-lime-7-rgb:116,184,22;--oc-lime-8:#66a80f;--oc-lime-8-rgb:102,168,15;--oc-lime-9:#5c940d;--oc-lime-9-rgb:92,148,13;--oc-yellow-0:#fff9db;--oc-yellow-0-rgb:255,249,219;--oc-yellow-1:#fff3bf;--oc-yellow-1-rgb:255,243,191;--oc-yellow-2:#ffec99;--oc-yellow-2-rgb:255,236,153;--oc-yellow-3:#ffe066;--oc-yellow-3-rgb:255,224,102;--oc-yellow-4:#ffd43b;--oc-yellow-4-rgb:255,212,59;--oc-yellow-5:#fcc419;--oc-yellow-5-rgb:252,196,25;--oc-yellow-6:#fab005;--oc-yellow-6-rgb:250,176,5;--oc-yellow-7:#f59f00;--oc-yellow-7-rgb:245,159,0;--oc-yellow-8:#f08c00;--oc-yellow-8-rgb:240,140,0;--oc-yellow-9:#e67700;--oc-yellow-9-rgb:230,119,0;--oc-orange-0:#fff4e6;--oc-orange-0-rgb:255,244,230;--oc-orange-1:#ffe8cc;--oc-orange-1-rgb:255,232,204;--oc-orange-2:#ffd8a8;--oc-orange-2-rgb:255,216,168;--oc-orange-3:#ffc078;--oc-orange-3-rgb:255,192,120;--oc-orange-4:#ffa94d;--oc-orange-4-rgb:255,169,77;--oc-orange-5:#ff922b;--oc-orange-5-rgb:255,146,43;--oc-orange-6:#fd7e14;--oc-orange-6-rgb:253,126,20;--oc-orange-7:#f76707;--oc-orange-7-rgb:247,103,7;--oc-orange-8:#e8590c;--oc-orange-8-rgb:232,89,12;--oc-orange-9:#d9480f;--oc-orange-9-rgb:217,72,15;--page-margin:1em;--page-width:40em;--font-monospaced:"Courier New","Courier",monospace;--font-system:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu Cantarell,"Helvetica Neue",sans-serif}.small-caps{font-size:70%;letter-spacing:.075em;text-transform:uppercase}#backdrop{align-items:center;min-height:100vh}#backdrop,#page{display:flex;justify-content:center}#page{flex-direction:column;line-height:150%;margin:var(--page-margin);max-width:calc(100vw - 2em);min-height:calc(100vh - var(--page-margin)*2);padding:4em 4em 2em;position:relative;width:var(--page-width)}#page article{display:flex;flex-grow:1}#page article>:first-child{margin-top:0;width:100%}#page footer,#page header{display:flex}#page footer>div,#page header>div{flex-grow:1}#page footer p,#page header p{margin:.5em 0 0}#page footer .center,#page header .center{text-align:center}#page footer .right p,#page header .right p{text-align:right}#page header{margin-top:0}#page header.has-content{border-bottom:1px solid #000}#page header.has-content+article>article>div>p:first-child,#page header.has-content+article>div>p:first-child{margin-top:1em}#page footer{margin-bottom:0}#page footer.has-content{border-top:1px solid #000}#page hr{border:none}#page hr:after{content:"*  *  *";display:block;text-align:center}#page .error,#page .warning{background:var(--oc-red-0);border-left:4px solid var(--oc-red-3);color:var(--oc-red-9);margin-bottom:1em;overflow:auto;padding:.5em;position:relative}#page .error :first-child,#page .warning :first-child{margin-top:0}#page .error :last-child,#page .warning :last-child{margin-bottom:0}#page .error a,#page .warning a{color:var(--oc-red-9)}#page .warning{background:var(--oc-yellow-0)}#page .warning,#page .warning a{color:var(--oc-yellow-9)}#page .fork p{display:flex;flex-direction:column;width:100%}#page .fork p a{display:block;flex-grow:1;padding:.5em;text-align:center}@media screen and (max-width:768px){#page{margin:0;max-width:100vw;min-height:100vh;padding:1em;width:100vw}}#spinner{bottom:0;height:auto;opacity:0;pointer-events:none;position:absolute;right:0;transition:opacity .25s ease-in-out;width:50px}#spinner.visible{display:block;opacity:1}
*{box-sizing:border-box}body{margin:0;padding:0}img{height:auto;max-width:100%}input[type=text],select{padding:.25em}pre{white-space:pre-wrap}tw-storydata{display:none}</style></head><body></body><html></html><head></head><body><form id="cb-validation" action="javascript:void(0)"><button id="cb-validation-tester" hidden=""></button><button id="cb-block-enter-key" hidden=""></button><div id="backdrop"><div id="page" aria-live="polite"><header><div class="left"></div><div class="center"></div><div class="right"></div></header><article></article><ul class="warnings"></ul><footer><div class="left"></div><div class="center"></div><div class="right"></div></footer><div id="spinner"><svg xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100">
    <rect x="31" y="14" width="38" height="72" rx="4" fill="white" />
    <circle cx="50" cy="50" r="28" fill="white" />
	<rect x="35" y="18" width="30" height="64" rx="4" fill="white" stroke-width="2px" stroke="black" />
    <circle cx="50" cy="50" r="20" stroke="black" fill="white" stroke-width="2px" />
	<line x1="50" y1="50" x2="50" y2="37" stroke="black" stroke-width="2px" stroke-linecap="round">
        <animateTransform
            attributeName="transform"
            begin="0s"
            dur="20s"
            type="rotate"
            from="0 50 50"
            to="360 50 50"
            repeatCount="indefinite"
        />
	</line>
	<line x1="50" y1="50" x2="42" y2="50" stroke="black" stroke-width="2px" stroke-linecap="round">
        <animateTransform
            attributeName="transform"
            begin="0s"
            dur="120s"
            type="rotate"
            from="0 50 50"
            to="360 50 50"
            repeatCount="indefinite"
        />
	</line>
</svg></div></div></div></form><tw-storydata name="Sail to Xhorhas Part 2" startnode="1" creator="Twine" creator-version="2.11.1" format="Chapbook" format-version="1.2.3" ifid="E8D8FFF0-F1D9-4050-99E8-C0D0E9B73BFA" options="" tags="" zoom="1" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="Untitled Passage" tags="" position="1350,200" size="100,100">:: Daily Activities

Each day aboard *The Nergaliid* follows a rhythm. The crew rises with the dawn, performs their duties, and settles in for the night under the stars. As you settle into this routine, you find various ways to spend your time:

- [[Help with ship maintenance|Maintenance]]
- [[Assist in the Galley|Galley Assistance]]
- [[Learn navigation from Liris|Navigation Lessons]]
- [[Practice combat with Zareth|Combat Training]]
- [[Relax and socialize with the crew|Socialize]]


</tw-passagedata><tw-passagedata pid="2" name="Maintenance" tags="" position="1100,375" size="100,100">:: Maintenance
You decide to help with ship maintenance. Boatswain Korrin Velka, the wiry goblin with an infectious energy, appreciates the extra hands and puts you to work. The ship creaks and groans with age, and there&#39;s always something that needs attention.

- [[Help with repairs|Repairs]]
- [[Assist with cleaning|Cleaning]]
- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="3" name="Galley Assistance" tags="" position="1225,375" size="100,100">:: Galley Assistance

You decide to assist Cook Orin Dustmane in the galley. The bugbear cook&#39;s shaggy fur and gentle amber eyes give him an oddly comforting presence. Orin is happy for the help and sets you to work chopping vegetables and stirring pots.

&quot;Many hands make light work,&quot; Orin says with a warm smile, his voice a soothing rumble.

- [[Help prepare a meal|Prepare Meal]]
- [[Learn a new recipe|Learn Recipe]]
- [[Return to Daily Activities|Daily Activities]]

</tw-passagedata><tw-passagedata pid="4" name="Navigation Lessons" tags="" position="1350,375" size="100,100">:: Navigation Lessons

You decide to spend some time with Navigator Liris Norran, learning the art of navigation. Liris, with her teal skin and flowing green hair, exudes a serene confidence. She is patient and knowledgeable, and you find yourself fascinated by the intricacies of star charts and sea currents.

&quot;The stars are our guides,&quot; Liris explains, her melodic voice carrying a sense of reverence. &quot;Learn to read them, and you&#39;ll never be lost.&quot;

The navigation room is filled with ancient charts and delicate instruments, all meticulously organized. Liris shows you how to plot a course using the stars, her fingers gracefully tracing constellations on a map. She speaks of the ocean&#39;s currents, explaining how they can aid or hinder a ship&#39;s journey.

- [[Study star charts|Star Charts]]
- [[Learn to use navigational Instruments|Instruments]]
- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="5" name="Combat Training" tags="" position="1475,375" size="100,100">:: Combat Training

You decide to practice combat with First Mate Zareth Vekshin. Zareth is a tough but fair instructor, and he puts you through rigorous drills.

&quot;Discipline and precision,&quot; Zareth says. &quot;That&#39;s the key to victory.&quot;

- [[Practice weapon techniques|Weapon Techniques]]
- [[Engage in sparring matches|Sparring]]
- [[Return to Daily Activities|Daily Activities]]



</tw-passagedata><tw-passagedata pid="6" name="Socialize" tags="" position="1600,375" size="100,100">:: Socialize

You decide to relax and socialize with the crew. The camaraderie aboard *The Nergaliid* is strong, and you find yourself enjoying the company of these seasoned sailors.

- [[Share stories with the crew|Stories]]
- [[Play games|Games]]
- [[Return to Daily Activities|Daily Activities]]




[after 3 seconds]
Something seems a bit off... 

The day aboard *The Nergaliid* began like any other. The rhythmic sound of the waves against the hull provided a comforting backdrop to the routine tasks of ship life. Having become accustomed to the ebb and flow of the ship&#39;s daily activities, you went about your duties with a sense of familiarity.

Yet, amidst the mundane tasks, a subtle feeling lingered in the air, a whisper of something amiss. Perhaps it was the way the crew exchanged cautious glances, or the nervous energy that crackled beneath the surface of their conversations. Whatever the reason, a hunch tugged at the edges of the party&#39;s consciousness, urging them to delve deeper into the mystery that lurked beneath the surface.

As the day progressed, this intuition grew stronger, pulling the party inexorably towards the foredeck where Captain Vyra&#39;la Thal stood, her expression grave as she addressed the crew, her voice carrying the weight of authority. &quot;We find ourselves facing a most serious predicament.&quot;

Her gaze sweeps over the assembled crew, each member hanging on her every word. &quot;Suri completed her inspection, and it appears the Tide Stone, a relic of considerable significance, has been pilfered from our midst,&quot; she announces, her tone conveying a sense of urgency.

&quot;Now, I trust I needn&#39;t emphasize the importance of this artifact,&quot; she continues, her expression stern. &quot;But I shall not mince words—our priority is its swift recovery.&quot;

A ripple of concern passes through the crew as Captain Vyra&#39;la&#39;s unwavering gaze holds them steady. &quot;We are the only ones who knew of its presence. Begin your investigations immediately. We shall leave no stone unturned in our pursuit of justice,&quot; she declares, her voice resonating with determination.

&quot;I caution you all to exercise vigilance,&quot; she warns, her words carrying a weighty seriousness. &quot;The culprit may yet lurk among us, and it is imperative we act swiftly to rectify this situation.&quot;

With a nod of dismissal, Captain Vyra&#39;la Thal sets the crew in motion, her unyielding resolve guiding them through the murky waters of deception and intrigue that lie ahead.

[[Follow your hunch]]

[continued]
</tw-passagedata><tw-passagedata pid="7" name="Repairs" tags="" position="975,500" size="100,100">:: Repairs

&quot;There&#39;s always something that needs fixing,&quot; she says with a grin, her green skin glistening with sweat. Today, she hands you a bundle of tar and a brush. &quot;Let&#39;s get these cracks sealed before they become a problem.&quot;

The salty sea air fills your lungs as you work, the rhythmic sound of the waves crashing against the hull providing a steady beat to your labor. You scrape away old, brittle tar and apply fresh layers, ensuring the ship&#39;s wooden planks are watertight. Occasionally, you catch glimpses of sea creatures swimming alongside the vessel, their sleek forms darting through the water.

Korrin occasionally hums an old sea shanty, and you can&#39;t help but join in, the camaraderie of shared work lifting your spirits. As the sun sets, casting a golden glow over the deck, you feel a sense of accomplishment. *The Nargliid* feels more like home, and Korrin&#39;s infectious smile assures you that your efforts are appreciated.

- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="8" name="Cleaning" tags="" position="1100,500" size="100,100">:: Cleaning

You decide to help with cleaning duties alongside Boatswain Korrin Velka. The goblin’s wiry frame darts around the ship with incredible speed and precision, her green skin glistening with effort as she scrubs and polishes.

&quot;Cleaning’s just as important as fixing,&quot; Korrin says with a determined gleam in her eye. &quot;A clean ship is a happy ship.&quot;

Armed with buckets of soapy water and brushes, you set to work. The task seems mundane at first, but under Korrin’s guidance, it becomes an intricate dance. The rhythmic swish of brushes against the wooden planks, the soft splashing of water, and the occasional creak of the ship create a symphony of activity.

Korrin’s high-pitched humming blends with the sounds of the sea, her energy contagious. She teaches you the best techniques to remove stubborn salt stains and how to polish brass fittings until they gleam. As you work, you uncover hidden carvings and marks left by history, each telling a silent story of their own.

By the end of the day, the ship sparkles under the setting sun. Your muscles ache, but there’s a deep satisfaction in seeing *The Nargliid* gleam with pride. Korrin’s approving nod is the final reward for your hard work.

- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="9" name="Daily Activities" tags="" position="1225,500" size="100,100">- [[Help with Ship Maintenance|Maintenance]]
- [[Assist in the Galley|Galley Assistance]]
- [[Learn Navigation from Liris|Navigation Lessons]]
- [[Practice Combat with Zareth|Combat Training]]
- [[Relax and Socialize with the Crew|Socialize]]</tw-passagedata><tw-passagedata pid="10" name="Prepare Meal" tags="" position="1150,625" size="100,100">:: Prepare Meal

The galley is a warm, bustling heart of the ship. The smell of spices and simmering stews fills the air, making your mouth water. Orin hums softly as he works, the rich, earthy tones of his voice blending with the clatter of pots and pans. You chop vegetables with precise, rhythmic motions, adding to the melody of the kitchen.

Orin occasionally shares stories from his past, tales of distant lands and exotic ingredients. He shows you how to blend spices to create complex flavors and teaches you the secrets of perfecting a seafaring stew. As you work, you feel a sense of calm and satisfaction. The crew relies on Orin&#39;s meals for comfort and strength, and you take pride in contributing to their well-being.

- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="11" name="Learn Recipe" tags="" position="1275,625" size="100,100">:: Learn Recipe

You decide to learn a new recipe from Cook Orin Dustmane. The bugbear’s shaggy fur and gentle amber eyes make him a comforting presence in the bustling galley. Orin’s deep, rumbling voice fills the space as he introduces you to the day’s recipe.

&quot;Today, we’re making my special spiced fish stew,&quot; Orin announces with a warm smile. &quot;It&#39;s a crew favorite.&quot;

The galley is a whirlwind of activity, with pots bubbling and the rich aroma of spices filling the air. Orin hands you a filleting knife and demonstrates how to prepare the fish, his large hands moving with surprising delicacy. You mimic his actions, feeling the smooth texture of the fish under your fingers and the coldness of its flesh.

Next, you learn the art of blending spices. Orin explains the balance of flavors, how each spice adds depth and complexity to the stew. You measure and mix under his watchful eye, the vibrant colors of the spices a feast for the eyes.

As the stew simmers, Orin shares some of his secrets - a dash of paprika to bring out any acidity with a dash of savory flavor, a bit of salt water in with the fresh water when boiling potatoes the bring depth out of its bland origins, and even a way to skin the fish that makes it taste fresh up to three days after the catch.

When the dish is finally ready, you ladle it into bowls, the savory aroma making your mouth water. The crew’s appreciative murmurs and satisfied smiles as they eat are the ultimate reward for your culinary efforts.


- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="12" name="Star Charts" tags="" position="1400,500" size="100,100">:: Star Charts

You decide to study star charts with Navigator Liris Norran. The sea elf’s teal skin and flowing green hair give her an ethereal presence, her bright turquoise eyes filled with knowledge and wonder.

&quot;Tonight, we dive into the mysteries of our celestial sisters,&quot; Liris says, spreading a large star chart on the navigation table.

The room is dimly lit, the soft glow of lanterns casting a warm light on the intricate maps and instruments. Liris begins by explaining the constellations, her deep, lilting voice weaving a tale of ancient myths and cosmic beings. Her fingers trace the patterns on the chart, each constellation a story waiting to be discovered.

You take notes as Liris speaks, her passion for the stars infectious. She hands you a small telescope and guides you through its use, showing you how to pinpoint stars and navigate by their light. The night sky, once a chaotic expanse, starts to make sense under her patient tutelage.

As you step outside onto the deck, the stars shine brightly overhead. With Liris’ guidance, you locate the constellations you studied, each one a beacon in the night. The experience fills you with a profound sense of connection to the universe, the stars your silent companions on this vast ocean.

- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="13" name="Instruments" tags="" position="1525,500" size="100,100">:: Instruments

Liris teaches you how to use various navigational instruments, ranging from simple to complex. You practice using a sextant, the instrument&#39;s polished brass glinting in the lamplight. Liris corrects your technique with gentle guidance, her turquoise eyes sparkling with approval when you finally get it right. As the night deepens, you step out onto the deck, the sky a tapestry of stars. Under Liris&#39; tutelage, the heavens become a map, and you feel a deep connection to the vast, endless sea.

- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="14" name="Weapon Techniques" tags="" position="1400,625" size="100,100">:: Weapon Techniques

You decide to practice weapons techniques with First Mate Zareth Vekshin. The drow’s ebony skin and white hair create a striking contrast, his red eyes gleaming with intensity as he readies for the training session.

&quot;Mastery of weapons is not just about strength,&quot; Zareth says, handing you a practice sword. &quot;It’s about control and precision.&quot;

The training area is set up with various targets and obstacles. Zareth demonstrates a series of moves, his body moving with fluid grace and lethal precision. He explains the importance of balance, how each step and strike should flow seamlessly into the next.

You mimic his movements, the weight of the sword feeling awkward at first. Zareth’s sharp eyes catch every mistake, and he corrects your stance and technique with firm but fair guidance. His commands are clear and concise, his tone demanding excellence.

The session is grueling, your muscles burning with the effort of repeated drills. But as you persist, you start to feel a sense of rhythm and control. Zareth’s occasional nods of approval motivate you to push harder, to refine your skills.

By the end of the session, you’re exhausted but exhilarated. Zareth claps you on the shoulder, his expression unreadable but you sense his respect. The training has not only improved your combat skills but also instilled a deeper understanding of discipline and precision.

- [[Return to Daily Activities|Daily Activities]]
</tw-passagedata><tw-passagedata pid="15" name="Sparring" tags="" position="1525,625" size="100,100">:: Sparring

The training area on deck is a place of sweat and determination. Zareth demonstrates various combat techniques with swift, precise movements, expecting you to follow suit. He pushes you to your limits, correcting your stance, grip, and strikes with a firm but fair hand.

As you spar, the clash of weapons and the thud of boots on the deck create a rhythm of their own. Zareth&#39;s scarred face is unreadable, but there&#39;s a glimmer of respect when you manage to land a solid blow. He nods approvingly, and you feel a surge of pride.

Training with Zareth is exhausting, but you sense the improvement in your skills. His lessons extend beyond combat; they instill a sense of discipline and resilience. As the session ends, Zareth claps you on the shoulder, a rare gesture of camaraderie.

- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="16" name="Stories" tags="" position="1650,500" size="100,100">:: Stories

You decide to relax and socialize with the crew. The camaraderie aboard The Nargliid is strong, and you find yourself enjoying the company of these seasoned sailors.

The crew gathers in the common area, a place filled with laughter and stories. Jarek and Jeris, the earth genasi twins, entertain everyone with tales of their adventures, their rocky skin glinting in the lamplight. Suri, the tiefling quartermaster, joins in with witty remarks, her fiery yellow eyes gleaming with mischief.

Orin passes around mugs of ale, the rich, hearty brew lifting everyone&#39;s spirits. The atmosphere is warm and welcoming, a stark contrast to the cold, dark sea outside. Korrin plays a lively tune on her fiddle, her small hands moving with surprising speed and skill.

You join in the conversation, sharing your own stories and laughing at the crew&#39;s jokes. The bonds you form during these moments are invaluable, creating a sense of unity and trust. As the night wears on, the crew&#39;s laughter echoes across the water.

- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="17" name="Games" tags="" position="1775,500" size="100,100">:: Games

You decide to relax and play sailor games with the crew. The common area buzzes with energy, the crew members gathered around makeshift tables, ready for an evening of fun and gambling

Jerek and Jeris, the earth genasi twins, are the ringleaders of tonight’s games. Their rocky skin and deep brown eyes gleam with excitement as they set up a game of “Liar’s Dice,” a popular sailor pastime.

&quot;Ready to lose?&quot; Jerek teases, his stone-like dreadlocks swaying as he shakes the dice cup.

The game begins with laughter and friendly banter. The twins are skilled players, their poker faces and quick hands making them formidable opponents. You watch and learn, picking up on the subtle cues and strategies they use to bluff and outsmart each other.

As the game progresses, more crew members join in. Suri, the tiefling quartermaster, brings out a deck of cards for a game of “Seafarer’s Bluff,” a high-stakes game of chance and strategy. The air is filled with the sound of shuffling cards, rolling dice, and the occasional outburst of triumph or defeat.

Orin serves mugs of ale and snacks, his presence adding to the warm, jovial atmosphere. The crew’s joviality is infectious, and you find yourself fully immersed in the games, any worries temporarily forgotten.

- [[Return to Daily Activities|Daily Activities]]</tw-passagedata><tw-passagedata pid="18" name="Follow your hunch" tags="" position="1725,625" size="100,100">The air on the ship feels charged with tension as you navigate the deck. You take a quick sweep of your surroundings, and a few points of interest stand out: 

Orin Dustmane is visibly upset, his usual calm demeanor shattered.

Tharivol Olaran is at the helm, his focus split between steering the ship and keeping an eye on the crew. He seems more tense than usual, his tattooed arm flexing with controlled energy.

Liris seems distracted, her normally steady hands shaking slightly. She is muttering under her breath in a language you don&#39;t recognize.

The air is filled with worried murmurs. Suri is frantically checking her ledger, trying to make sense of the inventory, though by her face and her pacing, something is not adding up.

- [[Ask Liris about the Tide Stone]]

- [[Explore the ship|Explore]]
</tw-passagedata><tw-passagedata pid="19" name="Explore" tags="" position="1350,750" size="100,100">:: Explore

*Take notes! You may use the Roll20 chat box, a Google Doc, the class page on Outschool, or other means to communicate with each other. When making rolls, you can make them in Roll20 directly off of your character sheet, and it will be logged in the chat box. Each option will tell you what ability is reuired, as what you need to meet or beat in order to click on that option (for example, &quot;Investigation, 15 or higher&quot; means you need to click on the &quot;Investigation&quot; skill in your character sheet, and should you meet or beat a 15, you can click on that option to see what you learned.*

Where would you like to go?

- [[Foredeck|Foredeck]]
- [[Helm|Helm]]
- [[Navigation Room|Navigation Room]]
- [[Captain&#39;s Quarters|CaptainsQuarters]]
- [[Crew Quarters|CrewQuarters]]
- [[Galley|Galley]]
- [[Cargo Hold|CargoHold]]

Who do you interrogate? 

- [[Orin]]
- [[Vrya&#39;la]]
- [[Zareth]]
- [[Jerek and Jeris]]
- [[Liris]]
- [[Tharivol]]
- [[Korrin]]
- [[Suri]]
- [[Xaeniel]]</tw-passagedata><tw-passagedata pid="20" name="Ask Liris about the Tide Stone" tags="" position="2000,775" size="100,100">&quot;Aye, the Tide Stone,&quot; Liris speaks, her voice carrying the weight of age-old tales and maritime wisdom. &quot;That relic be a thing of legend, whispered about in hushed tones among sailors and scholars alike.&quot;

Her words, tinged with the lilt of coastal dialect, weave a tale as old as the sea itself. &quot;Crafted by hands long since turned to dust, they say, with mastery over the very currents and tides that govern our world. The Tide Stone was to be delivered to the capital of the Kryn Dynasty, Rosohna, as part of a diplomatic mission. &quot;

Liris&#39;s eyes gleam with a mix of reverence and caution. &quot;There is danger in power, young ones, for such power comes with a price. The Tide Stone stands a beacon for those who seek to control the seas, and a curse upon those who would wield it without heed.&quot;

She pauses, her gaze searching the horizon as if glimpsing distant shores. &quot;Whether friend or foe, the Tide Stone holds sway over the hearts and minds of all who dare to seek it. And mark my words, its fate shall shape the course of our journey, for better or for worse.&quot;

Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="21" name="Foredeck" tags="" position="850,875" size="100,100">:: Foredeck

The foredeck is bustling with activity as the crew discusses the situation in hushed tones. Captain Vyra&#39;la Thal gives orders, her hand subconsciously touching the pendant around her neck.

You notice the pendant, adorned with a symbol identical to the mark found near the empty storage chest in the cargo hold. It&#39;s a subtle detail, but it raises questions about the captain&#39;s involvement with the missing relic.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="22" name="Helm" tags="" position="975,875" size="100,100">:: Helm

Tharivol Olaran stands at the helm, his focus split between steering the ship and keeping an eye on the crew. He seems more tense than usual, his tattooed arm flexing with controlled energy.

Near Tharivol, you spot a piece of parchment with a sketch of the Tide Stone&#39;s symbol. It&#39;s a small detail, but it suggests that Tharivol might know more about the relic than he’s letting on.

Roll a History check. 15 or higher, look at [[Tharivol&#39;s Sketch]] 

If you failed the History check, continue to [[Explore]] </tw-passagedata><tw-passagedata pid="23" name="Navigation Room" tags="" position="1100,875" size="100,100">:: Navigation Room

The navigation room is filled with maps and charts, but Liris seems distracted, her normally steady hands shaking slightly. The framed portrait on her desk is now turned face down.

Make an Investigation check. 10 or higher will reveal a journal lying open on Liris&#39;s desk. You can choose to read it stealthily  or continue to [[Explore]] 

[[ Stealth check 14+ -&gt;Read the journal]]</tw-passagedata><tw-passagedata pid="24" name="CaptainsQuarters" tags="" position="1350,875" size="100,100">:: Captains Quarters

The captain’s quarters are as organized as ever, but you notice the ornate dagger is missing from its display. The locked box is still there, and, upon ininterrupted attention, you sense a faint aura of arcane magic - it is no ordinary lock. 

Roll a Perception or Investigation check to see what you notice, or a History / Arcana check to look at the locked drawer.. 

- [[Investigation, 15 or higher]]
- [[Perception, 11 or higher]]


- [[History, 9 or higher]]
- [[Arcana, 11 or higher]]

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="25" name="CrewQuarters" tags="" position="1500,875" size="100,100">:: Crew Quarters

In the crew quarters of *The Nergaliid*, narrow bunks line the walls, each neatly made with crisp linens despite the constant sway of the ship. Personal belongings are stowed away in small compartments, providing a sense of privacy in the shared space. 

As you enter, you find Suri Bael hunched over a worn leather ledger, her brow furrowed in concentration. Papers are strewn around her, and her fingers move swiftly across the pages as she meticulously checks and double-checks the inventory. Her expression is one of quiet intensity, her fiery yellow eyes scanning each line with a sense of urgency.

However, as the party approaches, Suri&#39;s demeanor undergoes a noticeable shift. With a practiced ease, she closes the ledger and tucks it away, her features adopting a mask of nonchalance. She straightens up, offering a casual greeting as if nothing were amiss, though a flicker of unease lingers behind her facade.

You search through the personal belongings of the crew members, hoping to find any clues.

[[Investigation, 17 or higher]]

Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="26" name="Galley" tags="" position="1675,850" size="100,100">:: Galley

Orin Dustmane is visibly upset, his usual calm demeanor shattered. He’s chopping vegetables with more force than necessary, and his cookbook is lying open on a page with a recipe for a draught of some kind.

[[Perception, 9 or higher]]

Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="27" name="CargoHold" tags="" position="1825,850" size="100,100">:: Cargo Hold

The cargo hold is meticulously organized, but the chest that once held the Tide Stone is now empty. Korrin is examining the hidden compartment in the floor with a worried expression.

Demos has advantage:
[[Investigation, 16 or higher]]

Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="28" name="Investigation, 15 or higher" tags="" position="1225,950" size="100,100">You decide to investigate further and find hidden correspondence in a secret compartment of the desk between Captain Vyra&#39;la and an unknown contact discussing the importance of the Tide Stone and the risks of their mission. It suggests that the captain was under immense pressure, but the nature of this pressure remains unclear.

Go back to the [[CaptainsQuarters]] </tw-passagedata><tw-passagedata pid="29" name="Perception, 11 or higher" tags="" position="1450,1000" size="100,100">Throughout the journey, you have observed Captain Vyra&#39;la&#39;s demeanor and behavior, noting any instances where she displayed signs of stress, urgency, or concern. These observations provide insight into the challenges she faced and the pressures weighing on her.

Go back to the [[CaptainsQuarters]] </tw-passagedata><tw-passagedata pid="30" name="History, 9 or higher" tags="" position="1200,1075" size="100,100">The symbol on Captain Vyra&#39;la&#39;s necklace is an intricate representation of a stylized storm, with swirling winds and crashing waves depicted in fine detail. It serves as a symbol of her connection to the sea, her mastery over the elements, and her unwavering resolve in the face of adversity.

Go back to the [[CaptainsQuarters]] </tw-passagedata><tw-passagedata pid="31" name="Arcana, 11 or higher" tags="" position="1325,1075" size="100,100">This drawer is locked by a codeword. You know that you have a few attempts to get it right, using a spell such a thaumaturgy, alter self, or other magical means of speaking to the lock via the arcane. (one word, starting with a single capital letter)

 https://cloakmy.org/r/29h3bxuq/ItgnhZIENQy1A6dcsQoe5Du8
 
 Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="32" name="Investigation, 17 or higher" tags="" position="1650,1000" size="100,100">In one of the chests belonging to Tharivol, you discover a hidden compartment containing a piece of fabric matching the cloth that was used to wrap the Tide Stone. 

The chest appears unremarkable at first glance, but upon closer inspection, you notice a subtle irregularity in its construction—a small seam along the inner edge of the lid, almost imperceptible to the naked eye.

With a careful touch, you press against the seam, causing the false bottom of the chest to spring open, revealing a hidden compartment concealed beneath. Inside, amidst a jumble of personal effects and belongings, you discover a piece of fabric—a swath of deep blue silk, intricately embroidered with patterns reminiscent of ocean waves and swirling currents.

The fabric matches the cloth that was used to wrap the Tide Stone, suggesting that someone had access to the relic. 

Go back to the [[CrewQuarters]] </tw-passagedata><tw-passagedata pid="33" name="Perception, 9 or higher" tags="" position="1850,1000" size="100,100">You notice this is a recipe for a powerful sleeping draught, and that there are traces of a sleeping draught in the galley, suggesting that someone used it to incapacitate a crew member or guard to steal the Tide Stone. It&#39;s a troubling revelation, raising concerns about the security of the ship.

Go back to the [[Galley]] </tw-passagedata><tw-passagedata pid="34" name="Investigation, 16 or higher" tags="" position="2050,1000" size="100,100">You join Korrin in her inspection and find a small, broken amulet that radiates faint magical energy. It&#39;s a curious discovery, indicating that a concealment spell was recently cast. The plot thickens as you ponder who could have wielded such magic and for what purpose.

[[Arcana check, 7 or higher]]

Go back to the [[CargoHold]] </tw-passagedata><tw-passagedata pid="35" name="Arcana check, 7 or higher" tags="" position="2250,1000" size="100,100">The small, broken amulet discovered in the hidden compartment of the cargo hold is revealed to be an Amulet of Proof against Detection and Location. This enchanted amulet, while intact, grants its wearer protection from magical scrying and detection, rendering them invisible to divination magic and making it nearly impossible for others to track or locate them through magical means.

However, the broken state of the amulet indicates that it has been damaged, rendering its magical properties ineffective. The faint remnants of magical energy emanating from the shattered remains suggest that a concealment spell was recently cast in the vicinity, likely to hide the perpetrator&#39;s actions or movements aboard *The Nergliid.*

The discovery of the broken amulet adds a new layer of intrigue to the mystery, raising questions about who could have wielded such powerful magic and for what purpose. Was it used by the thief to conceal their identity and movements while stealing the Tide Stone? Or perhaps it was employed by someone else aboard the ship, with their own hidden agenda and motivations?

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="36" name="Orin" tags="" position="1950,1200" size="100,100">You find Orin Dustmane in the galley, visibly upset and chopping vegetables with more force than necessary. The familiar scent of his spiced fish stew fills the air, but today it does little to mask the tension radiating from the bugbear cook.

As you enter, Orin’s shaggy fur seems more disheveled than usual, his gentle amber eyes clouded with frustration. The rhythmic sound of the knife against the cutting board is harsher, each chop echoing through the galley like a drumbeat of agitation.

Orin’s voice, usually a comforting rumble, is tight with barely restrained anger as he speaks. &quot;What do you want?&quot;

You hesitate, recalling the rapport built over shared meals and culinary lessons. The memory of Orin’s warm smile as he taught you to blend spices and the stories he shared of his culinary adventures come rushing back. It feels like a lifetime ago, and yet, it’s that very bond that gives you the courage to step forward.

- [[Ask about the theft]]

Continue to [[Explore]] 
</tw-passagedata><tw-passagedata pid="37" name="Vrya&#39;la" tags="" position="925,1200" size="100,100">You find Captain Vyra&#39;la Thal at the helm, speaking into a cyrstal sphere. As you apprach she puts it away and turns to face you; the atmosphere is heavy with the weight of responsibility. 

&quot;The Tide Stone is more than just a relic,&quot; she says, her voice low but firm. &quot;It holds great power, and its disappearance puts not only our mission but the safety of the entire crew at risk. We must tread carefully.&quot;

- [[Ask Vyra&#39;la about the theft]]

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="38" name="Zareth" tags="" position="2150,1200" size="100,100">You find Zareth Vekshin standing on the foredeck, his gaze fixed on the horizon with unwavering focus. The sea breeze tousles his short white hair, and the sunlight catches the faint glint of his scar, adding an air of ruggedness to his demeanor.

As you approach, Zareth&#39;s red eyes flicker to meet yours, sharp and penetrating. There&#39;s a hardness to his expression, a sense of authority that commands respect. His presence exudes strength and confidence, and you can&#39;t help but feel a twinge of apprehension as you draw near.

&quot;What do you want?&quot; Zareth&#39;s voice is gruff, each word clipped and precise. There&#39;s a hint of impatience in his tone, as if he has little time for idle conversation.

But beneath his brusque exterior lies a bright intellect and a deep sense of loyalty to Captain Vyra&#39;la and the crew. You get the sense that Zareth&#39;s dedication to his duties runs deep, and that he would stop at nothing to ensure the safety of the ship and its crew.

- [[Ask Zareth about the theft]]

</tw-passagedata><tw-passagedata pid="39" name="Liris" tags="" position="2350,1200" size="100,100">You approach Liris Norran, hoping to glean more information about the stolen Tide Stone. She stands with rare tension in her frame, her teal skin shimmering in the sunlight, hair flowing like seaweed in the gentle breeze, though her usually clear expression is clouded. The familiar scent of saltwater and the rhythmic creaking of the ship accompany the scene, bringing back memories of your time learning the art of navigation under her patient guidance.

Liris turns to you, her bright turquoise eyes sparkling with curiosity and a hint of concern. &quot;What can I do for you?&quot; she asks, her voice softer than usual, barely louder than the waves lapping against the hull.

You hesitate for a moment, recalling the countless hours spent poring over star charts and discussing the intricacies of sea currents. The memory of her calm demeanor as she explained how to read the stars, and the serene nights spent on the deck under her tutelage, strengthens your resolve.

- [[Ask Liris about the theft]]

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="40" name="Tharivol" tags="" position="2550,1200" size="100,100">You find Tharivol Olaran leaning against the railing of the ship, his gaze fixed on the swirling waters below. His grayish-green skin seems almost to blend with the ocean, and the sea breeze ruffles his practical attire as if in sync with the waves.

As you draw near, Tharivol&#39;s warm brown eyes meet yours, guarded yet curious. There&#39;s a sense of quiet strength about him, a stoic determination that belies his half-orc heritage. His presence exudes a calm resilience, as if he&#39;s weathered storms far fiercer than the one brewing around you.

&quot;What can I do for you?&quot; Tharivol&#39;s voice is steady, with a hint of weariness beneath the surface. There&#39;s a weight to his words, as if he carries burdens that few others can understand.

But despite the weight of his responsibilities, you sense a flicker of vulnerability in Tharivol&#39;s demeanor, a longing for something just out of reach. It&#39;s as if he&#39;s searching for answers in the depths of the ocean, hoping to find solace amidst the chaos of the sea.

- [[Ask Tharivol about the theft]]
</tw-passagedata><tw-passagedata pid="41" name="Korrin" tags="" position="1350,1200" size="100,100">You find Korrin on deck, her wiry form moving with a restless energy as she tends to her duties. Her green skin seems to blend seamlessly with the verdant hues of the ship, her small stature belying the strength and determination that radiates from her.

Approaching her, you can&#39;t help but notice the way she moves with purpose, her movements fluid and precise as she navigates the deck with ease. There&#39;s a sense of perpetual motion about her, as if she&#39;s always in motion, always ready for whatever challenges the sea might throw her way.

As you draw nearer, Korrin&#39;s sharp eyes meet yours, her gaze piercing and insightful. There&#39;s a spark of curiosity in her expression, a hunger for knowledge that seems to burn bright within her. She pauses in her tasks, her attention fully focused on you as she waits for you to speak.

- [[Ask Korrin about the theft]]
</tw-passagedata><tw-passagedata pid="42" name="Suri" tags="" position="1550,1200" size="100,100">You find Suri in her element, surrounded by stacks of ledgers and piles of parchment in the ship&#39;s makeshift office. Her sharp eyes flicker up as you approach, the calculating gleam within them softened by a hint of curiosity.

Her crimson skin seems to shimmer in the dim light of the room, the flickering candle flames casting dancing shadows across her features. There&#39;s a sense of quiet intensity about her, a focused energy that seems to hum in the air around her.

As you draw closer, Suri&#39;s lips quirk into a small smile, a knowing glint in her eyes as she regards you. &quot;Ah, what brings you to me?&quot; she asks, her voice smooth and velvety, each word laced with a subtle undercurrent of intrigue.

It&#39;s clear that Suri is always one step ahead, her mind constantly whirring with plans and schemes. But beneath her cool exterior lies a keen intellect and a sharp wit, and you can&#39;t help but wonder what insights she might have to offer regarding the stolen Tide Stone.

 [[Ask Suri about the theft]]

</tw-passagedata><tw-passagedata pid="43" name="Xaeniel" tags="" position="1750,1200" size="100,100">As you navigate the bustling deck of the Nergaliid, your eyes catch the unmistakable figure of Xaeniel, the haughty drow emissary from Den Mirimm. He stands aloof and solitary, a silent observer amidst the chaos of the ship&#39;s activities. His presence is like a shadow, dark and imposing, casting a palpable aura of intimidation upon all who dare to approach.

Xaeniel&#39;s demeanor is as cold and unforgiving as the depths of the Underdark, his icy gaze piercing through the veil of secrecy that shrouds his intentions. He moves with an otherworldly grace, his every step a calculated dance of power and authority.

As you draw near, you can feel the weight of Xaeniel&#39;s scrutiny upon you, his piercing gaze dissecting your every move with ruthless precision. There&#39;s a palpable tension in the air, a silent acknowledgment of the formidable presence that stands before you.

Despite his self-imposed seclusion, Xaeniel&#39;s presence commands attention, his stature imposing and regal amidst the sea of lesser beings. His features are chiseled and refined, betraying the aristocratic lineage from which he hails. His piercing violet eyes gleam with an otherworldly intelligence, a silent testament to the depths of his cunning and guile.

You can sense the air crackling with anticipation as you approach Xaeniel, the weight of his expectations hanging heavy upon your shoulders. He is not one to suffer fools lightly, and you know that every word you utter will be scrutinized with the keenest of eyes.

And so, with bated breath and trembling resolve, you prepare yourself to face the formidable drow emissary, knowing full well that the fate of nations hangs in the balance of your words.

[[Ask Xaeniel about the theft]]</tw-passagedata><tw-passagedata pid="44" name="Ask about the theft" tags="" position="1900,1350" size="100,100">You confront Orin about the stolen Tide Stone, hoping to get some answers.

&quot;I don&#39;t know anything about it. I was in the galley all day, just trying to cook for the crew.&quot;

- (Perception check, 9+) [[Observe Orin&#39;s body language for any signs of deception.|Observe Orin]]
On an 11 or lower: Despite your keen observation, Orin&#39;s demeanor remains stoic and unreadable. His expression gives away nothing, leaving you with no clear indication of whether he&#39;s telling the truth or hiding something.

- (Persuasion check 16+) [[Attempt to calm Orin down and gain his trust.|Calm Orin]]
On a 15 or lower: You try to soothe Orin&#39;s nerves, assuring him that you&#39;re only seeking the truth. However, he remains guarded and refuses to lower his defenses. His distrust is palpable, and he seems unwilling to share any information, no matter how persuasive your words.

- (Intimidation check 19+) [[Threaten Orin with consequences if he doesn&#39;t cooperate.|Threaten Orin]]
On an 18 or lower: You adopt a more forceful approach, warning Orin of the potential consequences if he continues to withhold information. However, his resolve remains unshaken, and he meets your threat with steely defiance. It&#39;s clear that he&#39;s determined to maintain his innocence, even in the face of intimidation.


Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="45" name="Observe Orin" tags="" position="1850,1800" size="100,100">:: Observe Orin

You carefully observe Orin&#39;s body language for any signs of deception.

- (Perception check) Success: As you keenly observe Orin&#39;s body language, looking for any subtle signs of deception, you notice a slight twitch in his right eye when he denies any knowledge of the theft. It&#39;s a small detail, but it speaks volumes. Despite his outward composure, there&#39;s an undercurrent of tension running through him, betraying the calm facade he presents. It&#39;s as if he&#39;s concealing something beneath the surface, something he&#39;s not willing to reveal just yet. This insight suggests that Orin may indeed know more about the theft than he&#39;s letting on, and it prompts you to dig deeper into his motivations and possible involvement.

[[Continue interrogation-&gt;Ask about the theft]]</tw-passagedata><tw-passagedata pid="46" name="Calm Orin" tags="" position="1700,1550" size="100,100">:: Calm Orin

You try to calm Orin down and build rapport with him to gain his trust.

- (Persuasion check) Success: Your words of reassurance and camaraderie seem to have an effect on Orin, gradually chipping away at the walls he&#39;s erected around himself. He relaxes ever so slightly, a faint flicker of trust entering his gaze as he listens to your earnest appeal. It&#39;s clear that he values the bond you share as crewmates aboard *The Nergaliid*, and he&#39;s more inclined to open up to someone he considers a friend. 

Encouraged by your sincerity, he begins to lower his defenses, offering hesitant glimpses into his thoughts and emotions. While he may not divulge everything just yet, it&#39;s a promising start—a crack in the armor that hints at the vulnerability lurking beneath.

- Succeed at additional [[Persuasion 14+]] to see what he is willing to share with you,

or

- [[Continue interrogation-&gt;Ask about the theft]]</tw-passagedata><tw-passagedata pid="47" name="Threaten Orin" tags="" position="1900,1625" size="100,100">:: Threaten Orin

You adopt a more aggressive approach, threatening Orin with consequences if he doesn&#39;t cooperate.

- (Intimidation check) Success: Your stern warning and implicit threat of consequences seem to strike a nerve with Orin, eliciting a subtle shift in his demeanor. Though he maintains his outward defiance, you detect a flicker of unease in his eyes—a silent acknowledgment of the gravity of the situation. He realizes that you&#39;re not someone to be trifled with, and the weight of your words hangs heavy in the air. Despite his reluctance to admit it, there&#39;s a palpable sense of fear underlying his bravado, a fear of the repercussions that may follow if he continues to withhold information. It&#39;s a delicate balance—one that teeters on the edge of confrontation—but it&#39;s a sign that you&#39;re getting closer to unraveling the truth behind Orin&#39;s guarded facade.

Continue to press him with an [[Intimidation 13+]] to squeeze him for information. 

[[Continue interrogation-&gt;Ask about the theft]]</tw-passagedata><tw-passagedata pid="48" name="Ask Vyra&#39;la about the theft" tags="" position="900,1350" size="100,100">You confront Captain Vyra&#39;la about the stolen Tide Stone, hoping to get some answers.

&quot;I assure you, I&#39;m doing everything in my power to investigate.&quot;

- (Insight check 16+) [[Try to gauge Captain Vyra&#39;la&#39;s honesty and sincerity.|Gauge Honesty]]
On a 15 or lower: - Failure: Captain Vyra&#39;la&#39;s expression remains unreadable, and you can&#39;t discern whether she&#39;s being truthful or not.

- (Perception check 9+) [[Observe the surroundings for any clues or inconsistencies.|Observe Surroundings]]
On a 8 or lower: - (Perception check) Failure: The surroundings appear ordinary and devoid of any obvious clues or inconsistencies.

- (Persuasion check 14+) [[Attempt to appeal to Captain Vyra&#39;la&#39;s sense of duty and trust.|Appeal to Duty]]
On a 13 or lower: - (Persuasion check) Failure: Captain Vyra&#39;la remains guarded and non-committal, wary of divulging sensitive information without concrete evidence.

- Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="49" name="Gauge Honesty" tags="" position="975,1875" size="100,100">::Gauge Honesty

You carefully study Captain Vyra&#39;la&#39;s expression and demeanor, trying to gauge her honesty.

(Insight check) Success: As you observe Captain Vyra&#39;la, you detect a subtle tension in her features, a fleeting glimpse of concern that belies her composed exterior. She may have a hunch, though she will not reveal anything less than a proven truth. Yet, there&#39;s an earnestness in her voice that suggests she&#39;s genuinely committed to resolving the matter to the fullest extent. 

Continue to [[Ask Vyra&#39;la about the theft]] </tw-passagedata><tw-passagedata pid="50" name="Observe Surroundings" tags="" position="925,1725" size="100,100">:: Observe Surroundings

You scan the surroundings of Captain Vyra&#39;la and the helms, searching for any clues or inconsistencies.

- (Perception check) Success: If the captain is here, then there would be no one in her quarters, leaving them open for unobserved investigation.... for now. 

Continue to [[Ask Vyra&#39;la about the theft]] </tw-passagedata><tw-passagedata pid="51" name="Appeal to Duty" tags="" position="875,1575" size="100,100">:: Appeal to Duty

You appeal to Captain Vyra&#39;la&#39;s sense of duty and trust, emphasizing the importance of cooperation in solving the theft of the Tide Stone.

(Persuasion check) Success: Captain Vyra&#39;la acknowledges your words, her violet eyes narrowing slightly as she listens. &quot;Indeed, it&#39;s imperative that we resolve this swiftly,&quot; she responds, her tone firm. &quot;Rest assured, I shall spare no effort in uncovering the truth.&quot; You notice the special emphasis on the final word. She may have a hunch, but is not willing to reveal anything until she knows the truth of the matter.

Continue to [[Ask Vyra&#39;la about the theft]] </tw-passagedata><tw-passagedata pid="52" name="Ask Zareth about the theft" tags="" position="2075,1350" size="100,100">You confront Zareth about the stolen Tide Stone, hoping to get some answers.

&quot;The theft of the Tide Stone is a serious matter. The captain and I are doing everything we can to uncover the truth.&quot;

- (Insight check 10+) [[Try to read Zareth&#39;s intentions and assess if he&#39;s withholding information.|Read Intentions]]
On a 9 or lower:- (Insight check) Failure: Zareth&#39;s expression remains stoic and unreadable, making it difficult to discern his true intentions.

- (Perception check 10+) [[Observe Zareth&#39;s body language and surroundings for any signs of deception or hidden clues.|Observe Zareth&#39;s Surroundings]]
On a 9 or lower: - (Perception check) Failure: Zareth&#39;s surroundings appear ordinary, and his body language gives away nothing suspicious.

-  Balasar has advantage on a (Persuasion check 12+) [[Attempt to persuade Zareth to reveal what he knows about the theft.| Appeal to Valor]]
On a 11 or lower: (Intimidation check) Failure: Zareth remains unfazed by your attempts at intimidation, maintaining his composure and refusing to divulge any additional details.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="53" name="Read Intentions" tags="" position="2100,1700" size="100,100"> Read Intentions
 
You carefully study Zareth&#39;s demeanor, trying to read his intentions and assess if he&#39;s withholding information.

- (Insight check) Success: You sense a subtle tension in Zareth&#39;s demeanor, a flicker of unease beneath his stoic exterior. Though his words are measured, there&#39;s a lingering suspicion in his eyes, hinting that he may be withholding information. You get the impression that he harbors doubts about someone specific and isn&#39;t revealing everything he knows, though he is reticent to reveal his suspicions, possibly to avoid causing unfounded accusations or because of personal feelings.

- Continue interrogation [[Ask Zareth about the theft]]</tw-passagedata><tw-passagedata pid="54" name="Observe Zareth&#39;s Surroundings" tags="" position="2025,1575" size="100,100">:: Observe Surroundings

You scan Zareth&#39;s surroundings and observe his body language for any signs of deception or hidden clues.

- (Perception check) Success: You notice a subtle shift in Zareth&#39;s posture and a quick glance towards a nearby stack of crates, hinting that he might be trying to hide something. Further investigation reveals subtle signs of recent activity around Zareth&#39;s station. A half-empty vial tucked away in a corner catches your eye, and the faint scent of an herbal concoction lingers in the air. Zareth&#39;s posture is rigid, his hands clenched slightly, indicating a hidden stress or concern; his tense body language indicates that he is under pressure and possibly hiding something about the events of the theft night.

- Continue interrogation [[Ask Zareth about the theft]]
</tw-passagedata><tw-passagedata pid="55" name="Jerek and Jeris" tags="" position="1150,1200" size="100,100">You find Jerek and Jeris, the earth genasi twins, up the main mast adjusting sails and inspecting rigging, their stony exteriors seeming to blend seamlessly with the ship&#39;s wooden planks. The salty breeze ruffles Jerek&#39;s stone-like dreadlocks as he works silently in unison with Jeris, their synchronized movements a testament to their shared connection.

Approaching them, you notice a thick tension in the air, a mute exchange of glances between the twins that speaks volumes. Despite their usual stoic demeanor, there&#39;s an underlying sense of unease, like a fault line waiting to crack.

As you draw nearer, their deep brown eyes meet yours, reflecting a mixture of weariness and determination. They pause in their tasks, the rhythmic sounds of their work fading into the background as they turn their attention to you.

Jerek and Jeris exchange a silent conversation, a wordless exchange of understanding that belies their outward appearance. It&#39;s clear that they share a bond that goes beyond mere blood relation, a connection forged through years of shared experiences aboard *The Nergaliid.*

- [[Ask them about the theft]]

</tw-passagedata><tw-passagedata pid="56" name="Ask them about the theft" tags="" position="1125,1350" size="100,100">You confront Jerek and Jeris about the stolen Tide Stone, hoping to get some answers.

Jerek: &quot;We don&#39;t know anything about it. We&#39;ve been working on deck the whole time.&quot;

Jeris: &quot;Yeah, we&#39;ve been keeping busy. You won&#39;t find any answers from us.&quot;

- (Insight check 15+) [[Try to read their intentions and assess if they&#39;re telling the truth.|Read their Intentions]]
On a 14 or lower: - (Insight check) Failure: Jerek and Jeris&#39; expressions remain stoic and unreadable, making it difficult to discern their true intentions.

- (Perception check 10+) [[Observe Jerek and Jeris&#39; body language and surroundings for any signs of deception or hidden clues.|Observe their Surroundings]]
- On a 9 or lower: (Perception check) Failure: Jerek and Jeris&#39; surroundings appear ordinary, and their body language gives away nothing suspicious.

- (Persuasion check 17+) [[Attempt to persuade Jerek and Jeris to open up and share any information they might have about the theft by making them feel at ease.|Persuade]]
- on a 16 or lower: (Persuasion check) Failure: Jerek and Jeris remain guarded and unresponsive to your attempts at persuasion, maintaining their stance of denial.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="57" name="Persuade" tags="" position="1200,1625" size="100,100">:: Persuade

You attempt to persuade Jerek and Jeris to open up and share any information they might have about the theft, hoping to appeal to their sense of cooperation.

- (Persuasion check) Success: Jerek and Jeris seem to soften slightly under your persuasion, casting looks at the crewmates below. 

&quot;Look, if we knew anything, we would tell you,&quot; Jeris concedes honestly. 

&quot;Unlike some others aboard,&quot; Jerek grumbles under his breath. 

- [[Continue interrogation.|Ask them about the theft]]</tw-passagedata><tw-passagedata pid="58" name="Read their Intentions" tags="" position="1050,1600" size="100,100">
:: Read Intentions

You carefully study Jerek and Jeris&#39; demeanor, trying to read their intentions and assess if they&#39;re telling the truth.

(Insight check) Success: Despite their attempts to appear nonchalant, you detect a subtle flicker of discomfort in their earthy features. It&#39;s not that they know something, it&#39;s that they DON&#39;T, and that bothers them. You notice a faint tremor in Jerek&#39;s hands, barely perceptible but enough to betray his composure - he is angry. Jeris, on the other hand, seems to be avoiding your gaze, his eyes flitting to the deck as though seeking an escape- she is hurt. 

- [[Continue interrogation.|Ask them about the theft]]</tw-passagedata><tw-passagedata pid="59" name="Observe their Surroundings" tags="" position="1100,1750" size="100,100">
:: Observe Surroundings

You scan Jerek and Jeris&#39; surroundings and observe their body language for any signs of deception or hidden clues.

- (Perception check) Success:  As you take in Jerek and Jeris&#39;s surroundings, you notice that a lof of their actions have left an invisible bubble around them - they have put themselves far away from everyone and worked into the upper levels of the main mast to eaise the sail - this could be for practical reasons such as catching a wind to stay on schedule, or it could be more of a social distance task. 

- [[Continue interrogation.|Ask them about the theft]]

</tw-passagedata><tw-passagedata pid="60" name="Ask Liris about the theft" tags="" position="2300,1350" size="100,100">You approach Liris, the ship&#39;s diligent navigator, about the stolen Tide Stone, hoping she might offer some valuable insights or clues.

&quot;I&#39;ve been so focused on keeping our course steady, but this theft has me deeply worried. I can&#39;t believe anyone on our crew would do this.&quot;

-(Insight check 9+) [[Attempt to gauge Liris&#39;s truthfulness and discern if she&#39;s hiding anything.|Gauge Truthfulness]]
On an 8 or lower: (Insight check) Failure: Liris’s composed demeanor and focused gaze on her charts make it difficult to discern any underlying emotions or deception.

-(Perception check 8+) [[Observe Liris&#39;s body language and surroundings for any signs of deception or hidden clues.|Observe Liris&#39;s Surroundings]]
On a 7 or lower: (Perception check) Failure: Liris’s quarters are neat and orderly, reflective of her meticulous nature. Her body language reveals nothing out of the ordinary, offering no clear signs of deception.

-(Persuasion check 11+) [[Try to persuade Liris to share any suspicions or observations she might have about the theft.|Persuade Liris]]
On a 10 or lower: (Persuasion check) Failure: Despite your efforts, Liris remains guarded. Her loyalty to the crew and her uncertainty about the culprit make her hesitant to share her thoughts.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="61" name="Observe Liris&#39;s Surroundings" tags="" position="2400,1525" size="100,100">
:: Observe Surroundings

You scan Liris&#39;s surroundings and pay close attention to her body language, searching for any signs of deception or hidden clues.

(Perception check) Success: You notice a slight shift in Liris&#39;s posture, her fingers tapping nervously on the edge of her chart table. There&#39;s a flicker of discomfort in her expression, suggesting unease.

&quot;It&#39;s just... with everything going on, I might have overlooked something. But I&#39;ve been thorough with my work. I promise.&quot;

- [[Continue interrogation.|Ask Liris about the theft]]
</tw-passagedata><tw-passagedata pid="62" name="Persuade Liris" tags="" position="2250,1550" size="100,100">:: Persuade

You attempt to persuade Liris to share any suspicions or observations she might have about the theft, hoping to encourage her to open up and provide valuable insights.

(Persuasion check) Success: Liris seems receptive to your persuasion. Her eyes flicker with concern, and she takes a deep breath before speaking.

&quot;I&#39;ve been worried sick about this. I did notice something odd the other night. There were unusual movements on deck, but I couldn&#39;t leave my station to investigate. I have a bad feeling about it, but I can&#39;t pinpoint who it might have been.&quot;

- [[Continue interrogation.|Ask Liris about the theft]]
</tw-passagedata><tw-passagedata pid="63" name="Gauge Truthfulness" tags="" position="2325,1700" size="100,100">
:: Gauge Truthfulness

You carefully observe Liris&#39;s demeanor and tone, attempting to gauge her truthfulness and discern if she&#39;s withholding any information.

(Insight check) Success: You detect a subtle hesitation in Liris&#39;s responses, though there is a sadness in her eyes the seems like she feels let down. She is honest in her words, though her heart aches more than she is letting on. 

&quot;I want to help, truly. It&#39;s just that... accusing anyone without evidence feels wrong. But if there&#39;s anything I can do to assist in finding the Tide Stone, I will.&quot;

- [[Continue interrogation.|Ask Liris about the theft]]</tw-passagedata><tw-passagedata pid="64" name="Ask Tharivol about the theft" tags="" position="2500,1350" size="100,100">You approach Tharivol at the helm, the sea breeze rustling through his hair. His eyes, usually sharp and alert, seem distracted, flickering with unease.

&quot;Ah, yes, the missing relic. It&#39;s certainly a troubling development, but rest assured, I&#39;m doing everything in my power to assist in the investigation.&quot;

- (Insight check 13+) [[Attempt to gauge Tharivol&#39;s truthfulness and discern if he&#39;s hiding anything.|Gauge Tharivol&#39;s Truthfulness]]
On an 12 or lower: (Insight check) Failure: Tharivol&#39;s demeanor remains composed and unreadable, making it challenging to determine if he&#39;s being truthful or deceptive.

- (Perception check 12+) [[Observe Tharivol&#39;s body language and surroundings for any signs of deception or hidden clues.|Observe Tharivol&#39;s Surroundings]]
On an 11 or lower: (Perception check) Failure: Tharivol&#39;s surroundings appear ordinary, and his body language gives away no obvious signs of deception or concealment.

- (Persuasion check 16+) [[Try to persuade Tharivol to share any suspicions or observations he might have about the theft.|Persuade Tharivol]]
On a 15 or lower: (Persuasion check) Failure: Tharivol remains guarded and reserved, reluctant to divulge any additional details or suspicions he may harbor about the theft.


Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="65" name="Gauge Tharivol&#39;s Truthfulness" tags="" position="2975,1500" size="100,100">
:: Gauge Truthfulness

You carefully observe Tharivol&#39;s demeanor and tone, attempting to gauge his truthfulness and discern if he&#39;s withholding any information.

- (Insight check) Success: You notice a slight hesitation in Tharivol&#39;s voice when he mentions the investigation, as if he&#39;s carefully choosing his words.

&quot;The theft has certainly disrupted our mission. I’ve been keeping a close eye on everyone, but nothing has stood out so far.&quot;

- Continue to pry by asking personal questions and watching his reactions [[Insight 12+]]
- [[Continue interrogation.|Ask Tharivol about the theft]]
</tw-passagedata><tw-passagedata pid="66" name="Persuade Tharivol" tags="" position="2775,1500" size="100,100">
:: Persuade

You attempt to persuade Tharivol to share any suspicions or observations he might have about the theft, hoping to encourage him to open up and provide valuable insights.

- (Persuasion check) Success: Your earnest appeal resonates with Tharivol, and he softens slightly, a hint of frustration creeping into his tone.

Tharivol: &quot;I... I&#39;ve been doing my best to find any leads. This theft is a stain on our mission, and I feel responsible for not preventing it.&quot;

- [[Persuasion, 13+Keep pushing: persuade Tharivol that you&#39;ve noticed strange behavior among the crew, and ask him to shed light on the crew members]].
On a 12 or lower: &quot;They are all responding to the news, I am sure. We work as a family, and when something endagers the family, we allreact different; some defensive, others withdrawn... it will take some time to recover from this mission. 

- [[Continue interrogation.|Ask Tharivol about the theft]]
</tw-passagedata><tw-passagedata pid="67" name="Observe Tharivol&#39;s Surroundings" tags="" position="2575,1500" size="100,100">:: Observe Surroundings

You scan Tharivol&#39;s surroundings and pay close attention to his body language, searching for any signs of deception or hidden clues.

- (Perception check) Success: You notice a bead of sweat forming on Tharivol&#39;s brow and a nervous twitch in his fingers, hinting at the possibility that he might be hiding something or feeling anxious.

[[Perception, 13+ take a closer look at Tharivol]]
On a 12 or lower: His tattoo is reminiscent of the pendant that Captain Vrya&#39;la wears around her neck. 

- [[Continue interrogation.|Ask Tharivol about the theft]]
</tw-passagedata><tw-passagedata pid="68" name="Ask Korrin about the theft" tags="" position="1300,1350" size="100,100">You approach Korrin, hoping to gain insight into her thoughts on the stolen Tide Stone, aware of her suspicions regarding Suri.

Korrin&#39;s eyes flicker with concern as you broach the topic of the missing relic. &quot;Aye, the missing relic... It&#39;s a puzzling matter, to be sure,&quot; she begins, her voice tinged with a note of apprehension. &quot;I&#39;ve been keeping an eye on the cargo hold, but there&#39;s been no sign of it.&quot;

- (Insight check 17+) [[Attempt to gauge Korrin&#39;s truthfulness and discern if she&#39;s hiding anything.|Gauge Korrin&#39;s Truthfulness]]
On a 16 or lower: (Insight check) Failure: Korrin&#39;s demeanor appears genuine and straightforward, making it challenging to determine if she&#39;s being truthful or deceptive.

-  (Perception check 10+) [[Observe the Cargo Hold for any signs of deception or hidden clues.|Observe Korrin&#39;s Surroundings]]
On a 9 or lower: (Perception check) Failure: Korrin&#39;s surroundings appear ordinary, and her body language gives away no obvious signs of deception or concealment.

- Demos has Advantage on a (Persuasion check: 15+) [[Try to persuade Korrin to share any suspicions or observations she might have about the theft.|Persuade Korrin]]
On a 14 or lower: (Persuasion check) Failure: Korrin remains guarded and reserved, reluctant to divulge any additional details or suspicions she may harbor about the theft.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="69" name="Gauge Korrin&#39;s Truthfulness" tags="" position="1275,1775" size="100,100">:: Gauge Truthfulness

You carefully observe Korrin&#39;s demeanor and tone, attempting to gauge her truthfulness and discern if she&#39;s withholding any information.

- (Insight check) Success: You detect a hint of hesitation in Korrin&#39;s voice and a flicker of uncertainty in her eyes, suggesting that she may be concealing something or holding back vital details about the theft. When pressed further, Korrin draws closer to Demos specifically. 

&quot;They all think the higher up you get, the more you can see; you &#39;n I both know it&#39;s those at the bottom with the most honest view. There&#39;re more &#39;n a few *tails* to be told. But what&#39;s worse, the devil you know, or the devil you do?&quot; Her eyes shift around nervously, then she snaps back to work. 

- [[Continue interrogation.|Ask Korrin about the theft]]
</tw-passagedata><tw-passagedata pid="70" name="Observe Korrin&#39;s Surroundings" tags="" position="1350,1900" size="100,100">:: Observe Surroundings

You scan Korrin&#39;s surroundings and pay close attention to her body language, searching for any signs of deception or hidden clues.

- (Perception check) Success: You notice a subtle shift in Korrin&#39;s posture and a nervous glance towards the back cargo hold, where the hidden door in the floor has been reconcealed, covered with a large barrel of wine. 

- [[Continue interrogation.|Ask Korrin about the theft]]
</tw-passagedata><tw-passagedata pid="71" name="Persuade Korrin" tags="" position="1400,1700" size="100,100">:: Persuade

You attempt to persuade Korrin to share any suspicions or observations she might have about the theft, hoping to encourage her to open up and provide valuable insights.

- (Persuasion check) Success: Korrin seems receptive to your persuasion, and you detect a willingness in her to share more information. She begins to express her concerns and doubts about the situation, hinting at a deeper motive behind the theft.

&quot;None of us would dare step one toe ou&#39;a line with Captain Vrya&#39;la about, though.... perhaps somuv us don&#39;t have toes more&#39;n hooves.&quot; She looks at you meaningfully and lowers her voice. &quot;We all serve the captain right enough, though mayhap there are other masters not aboard that may be holdin&#39; devilsh contracts with those who sail among us.&quot; 

- [[Continue interrogation.|Ask Korrin about the theft]]
</tw-passagedata><tw-passagedata pid="72" name="Ask Suri about the theft" tags="" position="1500,1350" size="100,100">You approach Suri, hoping to glean insights or information about the missing Tide Stone, aware of the suspicion surrounding her.

Suri&#39;s response is casual, almost nonchalant. &quot;The Tide Stone? A fascinating artifact, indeed,&quot; she muses, her tone betraying little emotion. &quot;Its disappearance has cast a shadow over this voyage.&quot;

- (Insight check 17+) [[Attempt to read Suri&#39;s body language and discern if she&#39;s hiding anything about the theft.|Read Body Language]]
On a 16 or lower: (Insight check) As you study Suri&#39;s demeanor, the glowering smirk reveals nothing more than a devlish draw to chaos - Suri may be enjoying this turmoil. 

- (Perception check 16+) [[Observe Suri&#39;s surroundings for any signs of deception or hidden clues.|Observe Suri&#39;s Surroundings]]
On a 15 or lower: (Perception check) Glancing around, you detect nothing out of the ordinary in Suri&#39;s surroundings. Everything appears as it should, leaving you no immediate clues to the mystery.

- Keola has advantage on a (Persuasion check 15+) [[Try to persuade Suri to share any suspicions or insights she may have about the theft be assuring her that you don&#39;t think it was her.|Persuade Suri]]
On a 14 or lower: (Persuasion check) Despite your attempts to coax her, Suri remains guarded and reserved, offering no additional information or insights about the theft.

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="73" name="Read Body Language" tags="" position="1425,1575" size="100,100">:: Read Body Language

You carefully observe Suri&#39;s body language, hoping to discern if she&#39;s hiding anything about the theft.

- (Insight check) Success: You notice a subtle shift in Suri&#39;s demeanor—a fleeting glance, a nervous twitch—that suggests she is more bothered than she wants to let on. She has shoved the ledger so deep into her pocket that is pulls down her entire jacket, as if she had been trying to smother it more than put it away. 

Her tail wips erratically behind her, relaying her irritation that the situation, and her eyes hold you in a fiery regard - she is waiting for you to blame her, though the gaurded look about her tells you that this defense is not the first she&#39;s had to mount. She has probably taken the brunt of blame for a great many things and has gotten used to fingers being pointed at her. 

- [[Continue interrogation.|Ask Suri about the theft]]
</tw-passagedata><tw-passagedata pid="74" name="Observe Suri&#39;s Surroundings" tags="" position="1550,1550" size="100,100">:: Observe Surroundings

As you cast your gaze around Suri&#39;s surroundings, your eyes keenly observe the subtle details of her workspace. Amidst the orderly chaos of papers and supplies, there are telltale signs of recent disturbance—a quill left askew, a half-opened drawer that seems out of place. These small anomalies catch your attention, suggesting that something may have transpired here recently.

- (Perception check) Success: With a closer inspection, you notice a folded parchment tucked discreetly beneath the corner of Suri&#39;s ledger. Its edges are slightly crumpled, indicating that it has been handled recently. Your curiosity piqued, you reach out to investigate further, but before you can unfold the parchment, Suri abruptly interrupts.

Her demeanor shifts subtly, a flicker of apprehension passing across her features before she quickly masks it with a casual smile. &quot;Is there something you need, or are you simply admiring my organizational skills?&quot; she quips, her tone light and dismissive. But beneath the facade of indifference, you detect a hint of tension, as if she&#39;s eager to divert your attention away from the hidden correspondence.

- Choose either [[Intimidation 19+ or Persuasion 15+]] to press the matter and see what Suri is hiding

or

- [[Continue interrogation.|Ask Suri about the theft]]
</tw-passagedata><tw-passagedata pid="75" name="Persuade Suri" tags="" position="1500,1825" size="100,100">:: Persuade

You attempt to persuade Suri to share any suspicions or insights she may have about the theft, hoping to encourage her to disclose valuable information.

- (Persuasion check) Success: Suri seems receptive to your persuasion, and you detect a willingness in her to open up. She hesitates for a moment, her fiery gaze flickering with uncertainty before she begins to speak.

&quot;Alright, I&#39;ll tell you what I know. I&#39;ve noticed some strange things happening aboard the ship lately. Unusual movements, whispered conversations... It&#39;s all been rather suspicious, if you ask me.&quot;

As she speaks, Suri&#39;s hands fidget nervously, betraying her inner turmoil despite her attempts to appear composed. There&#39;s a hint of apprehension in her voice, as if she&#39;s afraid of what her revelations might uncover.

Suri: &quot;I can&#39;t say for certain who&#39;s behind it, but I&#39;ve had my suspicions. Keep an eye on those who seem a little too eager to shift blame onto others. They might be hiding something.&quot;

She casts a cautious glance around the room, as if expecting someone to burst in at any moment and put an end to her confessions. But when no interruption comes, she sighs heavily, as if relieved to have finally unburdened herself.

&quot;Just promise me one thing: don&#39;t let them pin this on me. I may not be perfect, but I&#39;m not a thief. I know it sounds crazy suspricious, which is why I haven&#39;t meantioned it but... I fell asleep on duty. I *never* fall asleep on duty. I think.... I think I am being framed.&quot;

With that, she falls silent, her gaze fixed on the floor as she awaits your response, her vulnerability laid bare for all to see.


- [[Continue interrogation.|Ask Suri about the theft]]
</tw-passagedata><tw-passagedata pid="76" name="Tharivol&#39;s Sketch" tags="" position="900,1000" size="100,100">You examine the sketch closely, wracking your brain for any information about the symbol. The symbol depicted in the sketch is a stylized representation of the Tide Stone itself. It is an ancient and intricate emblem, known to be associated with powerful artifacts of maritime significance.

The history of this symbol dates back to the early civilizations of Exandria, where it was believed to represent the control of the seas and tides. Legends speak of a time when the Tide Stone was used by ancient mariners to navigate treacherous waters, calm raging storms, and even alter the course of ocean currents.

Over the centuries, the Tide Stone became a symbol of authority and reverence among seafarers and maritime communities. It was often depicted in ancient texts, carvings, and artifacts as a mark of respect for its legendary powers.

However, with the passage of time, the true nature of the Tide Stone and its whereabouts became shrouded in mystery and myth. Many believed it to be lost or hidden away, its powers fading into obscurity.

The discovery of the Tide Stone and its theft aboard The Nergaliid represents a significant event in maritime history, as it brings this ancient artifact back into the forefront of attention. The symbol serves as a reminder of the relic’s legendary status and the potential consequences of its misuse or disappearance.

Continue to [[Explore]]</tw-passagedata><tw-passagedata pid="77" name="Read the journal" tags="" position="1050,1000" size="100,100">In a recent entry, she mentions a cryptic message about the Tide Stone she received from an unknown sender. 

&quot;Seek the heart of the tempest, where the waters churn and the winds howl. There lies the key to unlocking the secrets of the Tide Stone. But beware, for great power comes with great peril. Choose your path wisely, for the fate of the seas rests in your hands.&quot;

This message hints at the location or nature of the Tide Stone, suggesting that it holds significant power and influence over the seas. However, it also warns of the dangers associated with possessing such a powerful artifact, urging caution and wisdom in its pursuit.

Go back to the [[Navigation Room]] </tw-passagedata><tw-passagedata pid="78" name="Intimidation 19+ or Persuasion 15+" tags="" position="1650,1900" size="100,100">As you press Suri further, her facade of indifference begins to crack, revealing glimpses of unease beneath the surface. With a mixture of persuasion and intimidation, you make it clear that her cooperation is essential to unraveling the mystery of the stolen Tide Stone.

Caught off guard by your persistence, Suri&#39;s composure wavers, and a flicker of uncertainty flashes in her eyes. She shifts uncomfortably, the tension palpable in the air as she weighs her options.

&quot;Look, I... I don&#39;t know what you&#39;re talking about,&quot; she stammers, her voice betraying a hint of desperation. &quot;I&#39;m just a quartermaster trying to keep things in order. I swear, I had nothing to do with the theft.&quot;

But despite her protestations, the pressure mounts, and Suri&#39;s resolve begins to crumble. Sensing that her facade is on the verge of crumbling, you press on, each word laced with the weight of the accusation hanging over her.

Finally, with a defeated sigh, Suri relents, her shoulders slumping in resignation. &quot;Fine, I&#39;ll tell you everything,&quot; she confesses, her voice barely above a whisper. &quot;But you have to promise me one thing—promise that you won&#39;t let them blame me for this. I swear, I&#39;m innocent.&quot;

The least of Suri&#39;s secrets is that she fell asleep while on duty last night, and not of her own volition; she was drugged.  That is the only involvement she has in *this* mystery, however Suri&#39;s secrets are woven into the clandestine correspondence she&#39;s been keeping with Titivilus, a powerful devil. While these correspondences have nothing to do with the theft of the Tide Stone, they reveal Suri&#39;s involvement in a separate web of intrigue aboard *The Nergaliid*.

In her letters, Suri confides in Titivilus about her ambitions and desires to become an extrmely powerful sorceress, seeking guidance and assistance in achieving her goals. 

However, these ambitions come with a price. In exchange for Titivilus&#39; aid, Suri agrees to carry out certain tasks and favors on his behalf, further entangling herself in a dangerous game of manipulation and deceit.

In addition to her clandestine dealings with Titivilus, Suri harbors another closely guarded secret: her sorcerous heritage. Born into a bloodline with ties to Dispater, the archduke of the second layer of the Nine Hells, Suri possesses latent powers inherited from this infernal lineage.

These powers manifest in subtle ways, imbuing her with a natural charisma and a knack for manipulation that she often uses to her advantage. However, they also come with a burden of expectation, as Suri grapples with the weight of her ancestry and the legacy it carries.

Despite her efforts to conceal her infernal heritage, whispers of her lineage have circulated among the crew, adding another layer of complexity to her already precarious position aboard *The Nergaliid*. 

And while Suri may not be directly responsible for the theft of the Tide Stone, her hidden dealings with Titivilus cast a shadow of suspicion over her actions, raising questions about her true motives and allegiances aboard the ship.

- [[Continue interrogation.|Ask Suri about the theft]]</tw-passagedata><tw-passagedata pid="79" name="Persuasion 14+" tags="" position="1750,1725" size="100,100">As the party&#39;s persuasive efforts persist, Orin&#39;s resolve begins to waver, and he finds himself torn between loyalty to his comrades and the weight of his conscience. With a heavy sigh, he finally relents, his voice tinged with a mixture of resignation and determination.

&quot;I&#39;ll admit... I had a hand in it,&quot; he confesses, his gaze dropping to the floor as he wrestles with his guilt. &quot;But it wasn&#39;t for personal gain. It was to protect... someone. And I didn&#39;t hurt anyone. It was just a sleeping draught...&quot;

He hesitates, choosing his words carefully, unwilling to betray the trust of those he sought to shield from harm. Yet resolve gleams in the stubborn set of his chin as he meets your gaze, a silent challenge daring you to judge him for his actions.

&quot;If you believe I&#39;ve done wrong, then take me before the captain,&quot; he offers, his voice steady despite the turmoil raging within. &quot;But know this—I won&#39;t betray the trust of those who needed my help. Their safety is worth more to me than any misplaced relic.&quot;

His admission hangs in the air, a testament to the complexity of his character and the moral dilemmas that weigh upon him. Though he may have acted with noble intentions, the truth remains elusive, buried beneath layers of secrecy and sacrifice. 

 [[Continue interrogation-&gt;Ask about the theft]]</tw-passagedata><tw-passagedata pid="80" name="Intimidation 13+" tags="" position="2000,1850" size="100,100">Under the weight of the party&#39;s intimidating tactics, Orin&#39;s stoic facade begins to crack, revealing glimpses of the turmoil festering beneath the surface. Despite his efforts to maintain his composure, the pressure mounts, forcing him to confront the consequences of his actions.

&quot;I helped. That is, I made the sleeing draught for...I... I can&#39;t,&quot; he stammers, his voice trembling with uncertainty as he struggles to resist the relentless scrutiny. &quot;I won&#39;t betray their trust, no matter what you do to me.&quot;

His words echo with a haunting resolve, a testament to the unwavering loyalty that binds him to those he seeks to protect. Though fear may cloud his judgment, it&#39;s clear that his commitment to his comrades remains steadfast, transcending even the threat of punishment.

With a heavy heart, Orin meets your gaze, a silent plea for understanding shining in his weary eyes. Despite the darkness that threatens to consume him, there&#39;s a flicker of defiance, a stubborn refusal to yield to the demands of fate.

&quot;I&#39;ll face whatever consequences come my way,&quot; he declares, his voice tinged with resignation. &quot;But I won&#39;t sacrifice their safety for mine. Some things are worth more than the truth.&quot;

His admission hangs in the air, a somber reminder of the sacrifices made in the name of loyalty and honor. Though the path forward may be fraught with uncertainty, one thing remains clear—Orin&#39;s resolve cannot be broken, even in the face of adversity.

 [[Continue interrogation-&gt;Ask about the theft]]</tw-passagedata><tw-passagedata pid="81" name=" Appeal to Valor" tags="" position="2175,1850" size="100,100">You appeal to Zareth’s sense of duty, emphasizing the importance of uncovering the truth and protecting the crew. The weight of your words seems to pierce through his stoic facade.

(Persuasion check) success: The determination in your voice cuts through the tension like a blade. Zareth’s usually composed exterior begins to falter. His rigid posture relaxes, and he takes a deep breath, his shoulders sagging slightly as the burden of his unspoken fears finally begins to lift.

&quot;Alright, I’ll tell you what I know.&quot; He glances around to ensure no one else is within earshot, his voice dropping to a hushed tone. The flickering lantern light casts long shadows, highlighting the weariness in his eyes.

&quot;That night, Suri and I were on duty. I remember feeling unusually tired and eventually blacking out. When I woke up, the Tide Stone was gone.&quot; He pauses, his gaze distant as if replaying the events in his mind. The sound of the ship creaking under the gentle sway of the sea fills the silence.  &quot;I&#39;ve had my suspicions about Suri, but I didn&#39;t want to accuse her without evidence.&quot;

His eyes meet yours, the frustration and confusion clear in his expression.

&quot;Someone drugged us, and it was meant to keep us from doing our job. I just don&#39;t know who. I haven&#39;t told anyone yet but...&quot; he reaches back and grabs a half-empty vial tucked away in a corner , and the faint scent of an herbal concoction lingers in the air. &quot;If you can use it someone to trace back to who created it, it&#39;s yours.&quot;

The confession hangs heavy in the air, the reality of betrayal within the crew sinking in. 

Continue to [[Explore]] </tw-passagedata><tw-passagedata pid="82" name="Insight 12+" tags="" position="3050,1650" size="100,100">As you observe Tharivol, you notice his eyes dart momentarily to Captain Vrya&#39;la, a flicker of concern then shame crossing his face.

&quot;I’ve been meticulous in my observations, but no one has acted out of the ordinary. We must remain vigilant.&quot; While his words are true, there is something in his tone that tells you there may be more meaning behind them than what is on the surface. 

[[Insight 18+ Ask Tharivol in earnest if he has done everything he could to help Captain Vrya&#39;la find leads]]
Insight 17 or lower: Tharivol is hiding something, but he doesn&#39;t seemed worried about himself, and keeps throwing glances over at Captain Vrya&#39;la as if to check on her. 

Continue to interrogate Tharivol [[Ask Tharivol about the theft]]
</tw-passagedata><tw-passagedata pid="83" name="Insight 18+ Ask Tharivol in earnest if he has done everything he could to help Captain Vrya&#39;la find leads" tags="" position="3150,1800" size="100,100">You sense an underlying tension in Tharivol, as if he’s struggling to maintain his composure. His words, though measured, carry a weight of unspoken guilt.

 &quot;It’s not easy keeping morale up when something like this happens. Everyone&#39;s looking at each other with suspicion, and it&#39;s tearing us apart.&quot;
 
With your persistent probing, Tharivol’s facade finally cracks, and he reveals a glimpse of his internal conflict, a mix of guilt and determination in his eyes.

&quot;Alright, I’ll admit it. There’s more to this than I initially let on. I’ve had my own theories, but they’re... complicated.&quot;

You level your gaze at Tharivol, unwavering and resolute. There&#39;s a silent challenge in your eyes, a demand for honesty that brooks no resistance. Tharivol meets your gaze, his own flickering with uncertainty before finally settling into a reluctant submission. It&#39;s as if he realizes that the facade he&#39;s been maintaining is crumbling under the weight of your scrutiny, leaving him with no choice but to confront the truth.

[[Tharivol, what did you do?]]
</tw-passagedata><tw-passagedata pid="84" name="Persuasion, 13+Keep pushing: persuade Tharivol that you&#39;ve noticed strange behavior among the crew, and ask him to shed light on the crew members" tags="" position="2850,1650" size="100,100">The tension in the air is almost palpable as you confront him about the stolen Tide Stone, hoping to break through his guarded exterior. You manage to break through Tharivol&#39;s guarded exterior, and he reluctantly shares more of his observations, his tone tinged with regret.

&quot;I understand your concern, truly. It&#39;s a troubling development, but rest assured, I&#39;m doing everything in my power to assist in the investigation. Though... I hate to admit it, but I’ve noticed some odd behavior among the crew. Small things, really, but they add up. Mind you, nothing concrete.&quot; 

Your eyes lock onto his, unwavering. The determination in your gaze seems to chip away at his defenses. Slowly, almost imperceptibly, his shoulders sag and his eyes grow weary.

&quot;Suri, for instance... she&#39;s been acting more secluded and defensive than usual. Zareth seems overly tense, constantly looking over his shoulder. And Jerek... he&#39;s been more reclusive, avoiding eye contact. Still, nothing concrete.&quot;

[[Persuasion 18+ Ask Therivol to reveal what he is hiding, because it is tearing the crew apart]]
On a 17 or lower: &quot;They are all stronger than you give them credit for. I would worry more about you than I would about them.&quot;

Continue to interrogate Tharivol [[Ask Tharivol about the theft]]</tw-passagedata><tw-passagedata pid="85" name="Persuasion 18+ Ask Therivol to reveal what he is hiding, because it is tearing the crew apart" tags="" position="2950,1800" size="100,100">Tharivol hesitates, his gaze flickering between you and the setting sun. Finally, he exhales a heavy sigh, the weight of his secrets visibly pressing down on him. His voice, when he speaks, is tinged with regret and a hint of desperation.

&quot;I just want to protect them.&quot;

You level your gaze at Tharivol, unwavering and resolute. There&#39;s a silent challenge in your eyes, a demand for honesty that brooks no resistance. Tharivol meets your gaze, his own flickering with uncertainty before finally settling into a reluctant submission. It&#39;s as if he realizes that the facade he&#39;s been maintaining is crumbling under the weight of your scrutiny, leaving him with no choice but to confront the truth.

[[Tharivol, what did you do?]]
</tw-passagedata><tw-passagedata pid="86" name="Perception, 13+ take a closer look at Tharivol" tags="" position="2650,1650" size="100,100">Your eyes narrow as you take in the scene. The wheel, polished and well-used, bears no marks of struggle or haste. Yet, your gaze shifts to Tharivol&#39;s hands gripping the wheel, and you spot faint traces of a powdery substance clinging to his fingers. The texture and color are all too familiar—the remnants of some sort of tincture. 

Tharivol: &quot;I&#39;ve been tirelessly going over the ship and checking for any other missing items. It’s the only way I know to help.&quot;

He glances down, quickly rubbing his fingers together to disperse the powder. His attempt to remain calm only heightens your suspicion.

- [[Perception, 18+: His words are steady, but there&#39;s a tension in his voice, a slight tremor that betrays his facade. You lean in, scrutinizing him more closely.]]
On a 17 or lower: Despite your best efforts to scrutinize him, Tharivol’s calm demeanor and well-practiced responses leave you uncertain. All of the would be &quot;evidence&quot; easily can be explained with the surroundings and the natural wear of a sailor’s life.

- [[Continue interrogation.|Ask Tharivol about the theft]]</tw-passagedata><tw-passagedata pid="87" name="Perception, 18+: His words are steady, but there&#39;s a tension in his voice, a slight tremor that betrays his facade. You lean in, scrutinizing him more closely." tags="" position="2750,1800" size="100,100">The thorough scrutiny of Tharivol reveals several elements of interest:

- Your keen observation reveals the powder is not only on his hands but also lightly dusting his sleeves, as if he had handled the draught recently and with care. The traces are faint but undeniable, hinting at his involvement in some type of concoction or potion.

- Based on the new scuffs on otherwise perfectly polished boots, he has been frequenting the cargo bay more often than usual. 

- You see a used spell scoll - though you have no idea what was on it prior to its use because now all that remains is the spell craft paper sticking out of his bag.

Tharivol’s shoulders tense under your scrutiny. His eyes dart briefly to the side, betraying his discomfort. His composure falters as he realizes the gravity of your observation.

&quot;You’re perceptive, I’ll give you that. Yes, I’ve been checking the cargo bay frequently. The Tide Stone is not just a relic; it’s a dangerous artifact, and I fear what could happen if it falls into the wrong hands.&quot;

You level your gaze at Tharivol, unwavering and resolute. There&#39;s a silent challenge in your eyes, a demand for honesty that brooks no resistance. Tharivol meets your gaze, his own flickering with uncertainty before finally settling into a reluctant submission. It&#39;s as if he realizes that the facade he&#39;s been maintaining is crumbling under the weight of your scrutiny, leaving him with no choice but to confront the truth.

[[Tharivol, what did you do?]]</tw-passagedata><tw-passagedata pid="88" name="Tharivol, what did you do?" tags="" position="2950,2000" size="100,100">As Tharivol stands before you, his countenance reveals a storm of conflicting emotions: regret, resolve, and a flicker of desperation. With a heavy sigh, he begins to speak, his voice weighed down by the burden of his confession.

&quot;I find myself at a crossroads, where the path of duty intersects with the shadows of my own conscience,&quot; he says, his words measured yet tinged with vulnerability. &quot;I never envisioned it would come to this, that I would be the architect of such deception. Yet the weight of responsibility compelled me to act, to protect not only our crew but all who could potentially fall prey to the Tide Stone&#39;s allure.&quot;

His voice burns with remorse as he continues. &quot;Yes, it was I who administered the sleeping draught to Suri and Zareth. It was a necessary precaution, albeit one that now weighs heavily upon my soul. And as for the protective enchantments surrounding the Tide Stone, I invoked a scroll of Dispell Magic, stripping away the amulet&#39;s defenses in a bid to safeguard us all.&quot;

There&#39;s a palpable sense of anguish in his voice as he speaks of the consequences of his actions. &quot;I am acutely aware of the rift my deception has caused among us, the fracture of trust that now festers in its wake. But know this—I would endure a thousand such betrayals if it meant shielding all from the malevolent forces that seek to exploit the Stone&#39;s power.&quot;

Tharivol&#39;s gaze drifts to a distant horizon, his thoughts lingering on distant memories and the specter of home. &quot;In my homeland of Xhorhas, I witnessed firsthand the devastation wrought by unchecked magic—the lives shattered, the lands laid waste. I refuse to allow such tragedy to unfold here, among those I hold dear.&quot;

A somber silence descends, punctuated only by the rhythmic lapping of waves against the hull. &quot;And so, I have devised a plan—a plan to consign the Tide Stone to oblivion, to lock it away in a pocket dimension beyond the reach of mortal hands. It is a path fraught with peril, but one I must tread if we are to ensure the safety of all.&quot;

He meets your gaze, a glimmer of hope flickering in his face. &quot;I understand if forgiveness eludes me, if my actions stand as a testament to the depths of my folly. But know this—I acted not out of malice, but out of a desperate desire to protect. And in that, perhaps, there lies a sliver of redemption.&quot;

- [[Encourage Tharivol to come clean to Captain Vyra&#39;la, accept whatever consequences may come, and work together with the captain to ensure the mission is seen to fruition. Going rogue is not going to protect anyone, least of all the crew; you were ordered to bring back the Tide Stone so *bring back the Tide Stone*. -&gt; Lawful Good]]

- [[Propose to Tharivol that he reveal his actions to the captain but emphasize the importance of finding a solution that minimizes harm and promotes unity among the crew; perhaps Captain Vrya&#39;la agrees with him and would help him dispose of it, but either way she should be in on this decision. -&gt; Neutral Good]]

- [[Advise Tharivol to keep his confession between you, work with you to safely dispose of the Tide Stone, and then find a way to make amends without risking unnecessary punishment from the captain. You agree that powerful magic has no place in the hands of those who would use it against others; mission or no mission, this is wrong and Tharivol is right. -&gt; Chaotic Good]]</tw-passagedata><tw-passagedata pid="89" name=" Lawful Good" tags="" position="2750,2200" size="100,100">As you deliver your impassioned plea, the tension in the air crackles with anticipation, each word you speak resonating with the weight of countless decisions and revelations that have led to this pivotal moment. Tharivol, his demeanor a tumultuous sea of conflicting emotions, absorbs your words with a solemn intensity.

In the now setting sun, the dusk casts long shadows that dance across Tharivol&#39;s face, highlighting the furrowed lines of worry etched upon his brow. His gaze, once veiled in secrecy, now meets yours with a raw vulnerability, a silent admission of the turmoil raging within his soul.

&quot;I cannot continue down this path of deception,&quot; Tharivol finally confesses, his voice a whisper carried on the wind, yet echoing with a resolute determination that reverberates through the room. &quot;The safety of the crew, of all those who sail with us, outweighs my own fears.&quot;

With each word, he sheds the cloak of deceit that has shrouded his actions, his resolve solidifying like iron forged in the crucible of adversity. With a solemn nod, he acknowledges the gravity of the moment, the weight of his decision settling upon his shoulders like a mantle of responsibility.

With purposeful strides, Tharivol strides away from the helm, leaving it to you as his footsteps resounding with a newfound resolve that echoes accross the foredeck the ship. The journey ahead may be fraught with uncertainty, but in this moment, there is clarity—a commitment to truth and justice that serves as a beacon guiding their path forward.

As he heads to the Captain&#39;s Quarters, knocks, then enters, the door swings shut behind him, the helm is cloaked once more in silence, the lingering echoes of his departure a testament to the courage of those who choose to confront the shadows that threaten to engulf them. And amidst the darkness, a candle of hope ignites—a spark that heralds the dawn of a new chapter, where redemption and resolution await those who dare to embrace the light.


[after 7 seconds]
*Thank you Clementine, Dom, Easton, Paul and Trev! I hope that you had fun :) See you on the 23rd!! *

[continued]</tw-passagedata><tw-passagedata pid="90" name=" Neutral Good" tags="" position="2950,2200" size="100,100">As you extend your hand of guidance to Tharivol, the weight of responsibility hangs heavy in the air, each syllable of your proposal laden with the delicate balance of compassion and pragmatism. Tharivol, his gaze a tempest of uncertainty and resolve, listens intently, the lines of tension in his features easing ever so slightly with each word you speak.

In the soft glow of the sun&#39;s setting light, the dusk shadows play across Tharivol&#39;s face, casting a gentle luminescence upon his troubled countenance. His eyes, once veiled in secrecy, now burn with a single flame of hope, a silent acknowledgment of the solace found in the solidarity of allies.

&quot;I cannot bear the burden of this deceit alone,&quot; Tharivol admits, his voice a soft murmur carried on the breeze, yet resonating with a quiet determination that belies his inner turmoil. &quot;But I fear the consequences of my actions may only serve to deepen the divide among the crew.&quot;

With each word, he grapples with the weight of his confession, wrestling with the complexities of a decision that holds the fate of all who sail with them in the balance. Yet, even amidst the uncertainty, there is a sense of liberation—a tentative step toward absolution, guided by the unwavering compass of compassion and understanding.

With a resolute nod, Tharivol accepts your proposal, acknowledging the wisdom in seeking a solution that honors both truth and unity. Together, you forge a path forward, guided by the shared commitment to navigate the stormy seas of uncertainty with courage and compassion as your guiding stars.

As you step into the embrace of the unknown, the helm is suffused with a sense of serenity—a quiet acknowledgment of the bonds that unite you in your quest for redemption and reconciliation. And amidst the tranquil silence, a sense of hope blossoms—a seed of unity planted in the fertile soil of understanding and empathy, poised to flourish in the light of shared purpose and mutual respect.

[after 7 seconds]
*Thank you Clementine, Dom, Easton, Paul and Trev! I hope that you had fun :) See you on the 23rd!! *

[continued]</tw-passagedata><tw-passagedata pid="91" name=" Chaotic Good" tags="" position="3150,2200" size="100,100">As you stand before Tharivol, the weight of your decision hangs heavy in the air, the gravity of your words echoing through the chamber like a solemn vow sworn in the hushed whispers of the night. Tharivol, his gaze a tempest of conflicting emotions, listens intently, his heart torn between duty and conscience, loyalty and justice.

In the light of the setting sun, shadows dance across Tharivol&#39;s face, casting fleeting patterns of light and darkness upon his troubled countenance. His eyes, once veiled in secrecy, now burn with a fierce resolve, a silent declaration of defiance against the injustices that threaten to consume him.

&quot;I cannot in good conscience abide by the dictates of authority at the expense of my own moral compass,&quot; Tharivol declares, his voice a fervent proclamation borne on the winds of rebellion, yet resonating with a quiet conviction that defies the tumultuous currents of fate.

With each word, he embraces the mantle of defiance, casting aside the shackles of obedience in favor of a path forged by the fires of righteous indignation. Yet, even as he stands on the precipice of rebellion, there is a sense of liberation—a defiant assertion of autonomy, guided by the unwavering light of truth and justice.

With a resolute nod, Tharivol accepts your counsel, acknowledging the wisdom in challenging the status quo in pursuit of a greater good. Together, you embark on a journey fraught with uncertainty and peril, guided by the shared commitment to defy oppression and champion the cause of justice.

As you step into the unknown, the helm reverberates with the echoes of your resolve—a clarion call to arms against the forces of tyranny and oppression. And amidst the chaos of uncertainty, a beacon of hope emerges—a defiant symbol of resistance, forged in the crucible of adversity and bound by the unbreakable bonds of solidarity and defiance.

[after 7 seconds]
*Thank you Clementine, Dom, Easton, Paul and Trev! I hope that you had fun :) See you on the 23rd!! *

[continued]</tw-passagedata><tw-passagedata pid="92" name="Ask Xaeniel about the theft" tags="" position="1700,1350" size="100,100">Xaeniel&#39;s gaze remains cold and unyielding as you broach the topic of the stolen Tide Stone. His expression is one of thinly veiled contempt, his lips pressed into a thin line of disapproval. 

&quot;Ah, the Tide Stone,&quot; he murmurs, his voice dripping with disdain. &quot;A valuable artifact, indeed. It seems its disappearance has cast a shadow over our journey.&quot;

There&#39;s a subtle undercurrent of suspicion in Xaeniel&#39;s words, a lingering doubt that seems to hang in the air like a heavy fog. He shifts his weight imperceptibly, his posture rigid and unwavering as he regards you with a piercing gaze.

&quot;I find it... curious,&quot; he continues, his tone laced with skepticism. &quot;That such esteemed guests aboard our vessel would find themselves entangled in such... unfortunate circumstances.&quot;

Xaeniel&#39;s words are measured and deliberate, each syllable laden with suspicion. He makes no effort to conceal his distrust, his eyes boring into yours with unyielding intensity.

&quot;You must understand,&quot; he says, his voice low and ominous. &quot;The Kryn Dynasty does not take kindly to thieves. If it is discovered that the Tide Stone has been stolen under our watch, there will be consequences. Grave consequences indeed.&quot;

There&#39;s a veiled threat in Xaeniel&#39;s words, a warning of the harsh realities that await those who dare to defy the will of Den Mirimm. He watches you intently, his gaze unrelenting and unblinking, even as you walk away. 

Continue to [[Explore]] </tw-passagedata></tw-storydata><script>!function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}var i=r,a=o;function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}"function"==typeof n.setTimeout&&(i=setTimeout),"function"==typeof n.clearTimeout&&(a=clearTimeout);var c,l=[],u=!1,f=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):f=-1,l.length&&d())}function d(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++f<t;)c&&c[f].run();f=-1,t=l.length}c=null,u=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===o||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}h.prototype.run=function(){this.fun.apply(null,this.array)};function g(){}var m=g,b=g,v=g,y=g,w=g,k=g,x=g;var S=n.performance||{},_=S.now||S.mozNow||S.msNow||S.oNow||S.webkitNow||function(){return(new Date).getTime()};var E=new Date;var C={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(d)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:m,addListener:b,once:v,off:y,removeListener:w,removeAllListeners:k,emit:x,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*_.call(S),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-E)/1e3}};function A(e){return null!=e&&(!!e._isBuffer||O(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&O(e.slice(0,0))}(e))}function O(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}void 0===n.TYPED_ARRAY_SUPPORT||n.TYPED_ARRAY_SUPPORT;var T="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};function j(e,t){var n={seen:[],stylize:L};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),D(t)?n.showHidden=t:t&&J(n,t),R(n.showHidden)&&(n.showHidden=!1),R(n.depth)&&(n.depth=2),R(n.colors)&&(n.colors=!1),R(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=z),N(n,e,n.depth)}function z(e,t){var n=j.styles[t];return n?"["+j.colors[n][0]+"m"+e+"["+j.colors[n][1]+"m":e}function L(e,t){return e}function N(e,t,n){if(e.customInspect&&t&&H(t.inspect)&&t.inspect!==j&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return q(r)||(r=N(e,r,n)),r}var o=function(e,t){if(R(t))return e.stylize("undefined","undefined");if(q(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(r=t,"number"==typeof r)return e.stylize(""+t,"number");var r;if(D(t))return e.stylize(""+t,"boolean");if(P(t))return e.stylize("null","null")}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),U(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return $(t);if(0===i.length){if(H(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(M(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(B(t))return e.stylize(Date.prototype.toString.call(t),"date");if(U(t))return $(t)}var c,l,u="",f=!1,p=["{","}"];(c=t,Array.isArray(c)&&(f=!0,p=["[","]"]),H(t))&&(u=" [Function"+(t.name?": "+t.name:"")+"]");return M(t)&&(u=" "+RegExp.prototype.toString.call(t)),B(t)&&(u=" "+Date.prototype.toUTCString.call(t)),U(t)&&(u=" "+$(t)),0!==i.length||f&&0!=t.length?n<0?M(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=f?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)G(t,String(a))?i.push(I(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(I(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return I(e,t,n,a,r,f)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,u,p)):p[0]+u+p[1]}function $(e){return"["+Error.prototype.toString.call(e)+"]"}function I(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),G(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=P(n)?N(e,c.value,null):N(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),R(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function D(e){return"boolean"==typeof e}function P(e){return null===e}function q(e){return"string"==typeof e}function R(e){return void 0===e}function M(e){return F(e)&&"[object RegExp]"===W(e)}function F(e){return"object"==typeof e&&null!==e}function B(e){return F(e)&&"[object Date]"===W(e)}function U(e){return F(e)&&("[object Error]"===W(e)||e instanceof Error)}function H(e){return"function"==typeof e}function Z(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function W(e){return Object.prototype.toString.call(e)}function J(e,t){if(!t||!F(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function G(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function V(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}j.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},j.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Y,X=Object.prototype.hasOwnProperty,K=Object.keys||function(e){var t=[];for(var n in e)X.call(e,n)&&t.push(n);return t},Q=Array.prototype.slice;function ee(){return void 0!==Y?Y:Y="foo"===function(){}.name}function te(e){return Object.prototype.toString.call(e)}function ne(e){return!A(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function re(e,t){e||le(e,!0,t,"==",ue)}var oe=/\s*function\s+([^\(\s]*)\s*/;function ie(e){if(H(e)){if(ee())return e.name;var t=e.toString().match(oe);return t&&t[1]}}function ae(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return se(ce(e.actual),128)+" "+e.operator+" "+se(ce(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||le;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=ie(t),i=r.indexOf("\n"+o);if(i>=0){var a=r.indexOf("\n",i+1);r=r.substring(a+1)}this.stack=r}}}function se(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function ce(e){if(ee()||!H(e))return j(e);var t=ie(e);return"[Function"+(t?": "+t:"")+"]"}function le(e,t,n,r,o){throw new ae({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function ue(e,t){e||le(e,!0,t,"==",ue)}function fe(e,t,n){e!=t&&le(e,t,n,"==",fe)}function pe(e,t,n){e==t&&le(e,t,n,"!=",pe)}function de(e,t,n){ge(e,t,!1)||le(e,t,n,"deepEqual",de)}function he(e,t,n){ge(e,t,!0)||le(e,t,n,"deepStrictEqual",he)}function ge(e,t,n,r){if(e===t)return!0;if(A(e)&&A(t))return 0===V(e,t);if(B(e)&&B(t))return e.getTime()===t.getTime();if(M(e)&&M(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(ne(e)&&ne(t)&&te(e)===te(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===V(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(A(e)!==A(t))return!1;var o=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==o&&o===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(Z(e)||Z(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=me(e),i=me(t);if(o&&!i||!o&&i)return!1;if(o)return ge(e=Q.call(e),t=Q.call(t),n);var a,s,c=K(e),l=K(t);if(c.length!==l.length)return!1;for(c.sort(),l.sort(),s=c.length-1;s>=0;s--)if(c[s]!==l[s])return!1;for(s=c.length-1;s>=0;s--)if(!ge(e[a=c[s]],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function me(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function be(e,t,n){ge(e,t,!1)&&le(e,t,n,"notDeepEqual",be)}function ve(e,t,n){ge(e,t,!0)&&le(e,t,n,"notDeepStrictEqual",ve)}function ye(e,t,n){e!==t&&le(e,t,n,"===",ye)}function we(e,t,n){e===t&&le(e,t,n,"!==",we)}function ke(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function xe(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&le(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!e&&o&&!n;if((!e&&U(o)&&i&&ke(o,n)||a)&&le(o,n,"Got unwanted exception"+r),e&&o&&n&&!ke(o,n)||!e&&o)throw o}function Se(e,t,n){xe(!0,e,t,n)}function _e(e,t,n){xe(!1,e,t,n)}function Ee(e){if(e)throw e}re.AssertionError=ae,T(ae,Error),re.fail=le,re.ok=ue,re.equal=fe,re.notEqual=pe,re.deepEqual=de,re.deepStrictEqual=he,re.notDeepEqual=be,re.notDeepStrictEqual=ve,re.strictEqual=ye,re.notStrictEqual=we,re.throws=Se,re.doesNotThrow=_e,re.ifError=Ee;var Ce=t(Object.freeze({__proto__:null,default:re,AssertionError:ae,fail:le,ok:ue,assert:ue,equal:fe,notEqual:pe,deepEqual:de,deepStrictEqual:he,notDeepEqual:be,notDeepStrictEqual:ve,strictEqual:ye,notStrictEqual:we,throws:Se,doesNotThrow:_e,ifError:Ee})),Ae=Ce,Oe="undefined"!=typeof window;function Te(e){this.hasWindow=e,this.hasIdle=this.hasWindow&&window.requestIdleCallback,this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout,this.scheduled=!1,this.queue=[]}Te.prototype.push=function(e){Ae.equal(typeof e,"function","nanoscheduler.push: cb should be type function"),this.queue.push(e),this.schedule()},Te.prototype.schedule=function(){if(!this.scheduled){this.scheduled=!0;var e=this;this.method((function(t){for(;e.queue.length&&t.timeRemaining()>0;)e.queue.shift()(t);e.scheduled=!1,e.queue.length&&e.schedule()}))}},Te.prototype.setTimeout=function(e){setTimeout(e,0,{timeRemaining:function(){return 1}})};var je,ze=function(){var e;return Oe?(window._nanoScheduler||(window._nanoScheduler=new Te(!0)),e=window._nanoScheduler):e=new Te,e},Le=ze(),Ne=Ce;Ie.disabled=!0;try{je=window.performance,Ie.disabled="true"===window.localStorage.DISABLE_NANOTIMING||!je.mark}catch(e){}var $e=Ie;function Ie(e){if(Ne.equal(typeof e,"string","nanotiming: name should be type string"),Ie.disabled)return De;var t=(1e4*je.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var o="end-"+t+"-"+e;je.mark(o),Le.push((function(){var i=null;try{var a=e+" ["+t+"]";je.measure(a,n,o),je.clearMarks(n),je.clearMarks(o)}catch(e){i=e}r&&r(i,e)}))}return je.mark(n),r.uuid=t,r}function De(e){e&&Le.push((function(){e(new Error("nanotiming: performance API unavailable"))}))}var Pe,qe=Ce;Re.disabled=!0;try{Pe=require("perf_hooks").performance,Re.disabled=C.env.DISABLE_NANOTIMING||!Pe.mark}catch(e){}function Re(e){if("undefined"!=typeof window)return $e(e);if(qe.equal(typeof e,"string","nanotiming: name should be type string"),Re.disabled)return Me;var t=(1e4*Pe.now()).toFixed()%Number.MAX_SAFE_INTEGER,n="start-"+t+"-"+e;function r(r){var o="end-"+t+"-"+e;Pe.mark(o);var i=null;try{var a=e+" ["+t+"]";Pe.measure(a,n,o),Pe.clearMarks(n),Pe.clearMarks(o)}catch(e){i=e}r&&r(i,e)}return Pe.mark(n),r.uuid=t,r}function Me(e){e&&e(new Error("nanotiming: performance API unavailable"))}var Fe=function(e,t,n){var r,o=e.length;if(!(t>=o||0===n)){var i=o-(n=t+n>o?o-t:n);for(r=t;r<i;++r)e[r]=e[r+n];e.length=i}},Be=Re,Ue=Ce,He=Ze;function Ze(e){if(!(this instanceof Ze))return new Ze(e);this._name=e||"nanobus",this._starListeners=[],this._listeners={}}Ze.prototype.emit=function(e){Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.emit: eventName should be type string or symbol");for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);var o=Be(this._name+"('"+e.toString()+"')"),i=this._listeners[e];return i&&i.length>0&&this._emit(this._listeners[e],t),this._starListeners.length>0&&this._emit(this._starListeners,e,t,o.uuid),o(),this},Ze.prototype.on=Ze.prototype.addListener=function(e,t){return Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.on: eventName should be type string or symbol"),Ue.equal(typeof t,"function","nanobus.on: listener should be type function"),"*"===e?this._starListeners.push(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)),this},Ze.prototype.prependListener=function(e,t){return Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependListener: eventName should be type string or symbol"),Ue.equal(typeof t,"function","nanobus.prependListener: listener should be type function"),"*"===e?this._starListeners.unshift(t):(this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].unshift(t)),this},Ze.prototype.once=function(e,t){Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.once: eventName should be type string or symbol"),Ue.equal(typeof t,"function","nanobus.once: listener should be type function");var n=this;return this.on(e,(function r(){t.apply(n,arguments),n.removeListener(e,r)})),this},Ze.prototype.prependOnceListener=function(e,t){Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.prependOnceListener: eventName should be type string or symbol"),Ue.equal(typeof t,"function","nanobus.prependOnceListener: listener should be type function");var n=this;return this.prependListener(e,(function r(){t.apply(n,arguments),n.removeListener(e,r)})),this},Ze.prototype.removeListener=function(e,t){return Ue.ok("string"==typeof e||"symbol"==typeof e,"nanobus.removeListener: eventName should be type string or symbol"),Ue.equal(typeof t,"function","nanobus.removeListener: listener should be type function"),"*"===e?(this._starListeners=this._starListeners.slice(),n(this._starListeners,t)):(void 0!==this._listeners[e]&&(this._listeners[e]=this._listeners[e].slice()),n(this._listeners[e],t));function n(e,t){if(e){var n=e.indexOf(t);return-1!==n?(Fe(e,n,1),!0):void 0}}},Ze.prototype.removeAllListeners=function(e){return e?"*"===e?this._starListeners=[]:this._listeners[e]=[]:(this._starListeners=[],this._listeners={}),this},Ze.prototype.listeners=function(e){var t="*"!==e?this._listeners[e]:this._starListeners,n=[];if(t)for(var r=t.length,o=0;o<r;o++)n.push(t[o]);return n},Ze.prototype._emit=function(e,t,n,r){if(void 0!==e&&0!==e.length){void 0===n&&(n=t,t=null),t&&(n=void 0!==r?[t].concat(n,r):[t].concat(n));for(var o=e.length,i=0;i<o;i++){var a=e[i];a.apply(a,n)}}};var We=He();function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}function et(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ot(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}
/*!
	 * isobject <https://github.com/jonschlinkert/isobject>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */var st=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)};
/*!
	 * get-value <https://github.com/jonschlinkert/get-value>
	 *
	 * Copyright (c) 2014-2018, Jon Schlinkert.
	 * Released under the MIT License.
	 */const ct=st;var lt=function(e,t,n){if(ct(n)||(n={default:n}),!pt(e))return void 0!==n.default?n.default:e;"number"==typeof t&&(t=String(t));const r=Array.isArray(t),o="string"==typeof t,i=n.separator||".",a=n.joinChar||("string"==typeof i?i:".");if(!o&&!r)return e;if(o&&t in e)return ft(t,e,n)?e[t]:n.default;let s=r?t:function(e,t,n){if("function"==typeof n.split)return n.split(e);return e.split(t)}(t,i,n),c=s.length,l=0;do{let t=s[l];for("number"==typeof t&&(t=String(t));t&&"\\"===t.slice(-1);)t=ut([t.slice(0,-1),s[++l]||""],a,n);if(t in e){if(!ft(t,e,n))return n.default;e=e[t]}else{let r=!1,o=l+1;for(;o<c;)if(t=ut([t,s[o++]],a,n),r=t in e){if(!ft(t,e,n))return n.default;e=e[t],l=o-1;break}if(!r)return n.default}}while(++l<c&&pt(e));return l===c?e:n.default};function ut(e,t,n){return"function"==typeof n.join?n.join(e):e[0]+t+e[1]}function ft(e,t,n){return"function"!=typeof n.isValid||n.isValid(e,t)}function pt(e){return ct(e)||Array.isArray(e)||"function"==typeof e}
/*!
	 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
	 *
	 * Copyright (c) 2014-2017, Jon Schlinkert.
	 * Released under the MIT License.
	 */var dt=st;function ht(e){return!0===dt(e)&&"[object Object]"===Object.prototype.toString.call(e)}
/*!
	 * set-value <https://github.com/jonschlinkert/set-value>
	 *
	 * Copyright (c) 2014-2018, Jon Schlinkert.
	 * Released under the MIT License.
	 */
const gt=function(e){var t,n;return!1!==ht(e)&&("function"==typeof(t=e.constructor)&&(!1!==ht(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))};function mt(e,t,n,r){if(!yt(e))return e;let o=r||{};const i=Array.isArray(t);if(!i&&"string"!=typeof t)return e;let a=o.merge;a&&"function"!=typeof a&&(a=Object.assign);const s=(i?t:function(e,t){const n=function(e,t){let n=e;if(void 0===t)return n+"";const r=Object.keys(t);for(let e=0;e<r.length;e++){const o=r[e];n+=";"+o+"="+String(t[o])}return n}(e,t);if(mt.memo[n])return mt.memo[n];const r=t&&t.separator?t.separator:".";let o=[],i=[];o=t&&"function"==typeof t.split?t.split(e):e.split(r);for(let e=0;e<o.length;e++){let t=o[e];for(;t&&"\\"===t.slice(-1)&&o[e+1];)t=t.slice(0,-1)+r+o[++e];i.push(t)}return mt.memo[n]=i,i}(t,o)).filter(vt),c=s.length,l=e;if(!r&&1===s.length)return bt(e,s[0],n,a),e;for(let t=0;t<c;t++){let r=s[t];if(yt(e[r])||(e[r]={}),t===c-1){bt(e,r,n,a);break}e=e[r]}return l}function bt(e,t,n,r){r&&gt(e[t])&&gt(n)?e[t]=r({},e[t],n):e[t]=n}function vt(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}function yt(e){return null!==e&&("object"==typeof e||"function"==typeof e)}mt.memo={};var wt=mt,kt={}.toString,xt=Array.isArray||function(e){return"[object Array]"==kt.call(e)};function St(e){return e?Array.isArray(e)?e.join("."):e:""}
/*!
	 * has-value <https://github.com/jonschlinkert/has-value>
	 *
	 * Copyright (c) 2014-2016, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */var _t=function(e){return null!=e&&"object"==typeof e&&!1===xt(e)},Et=function(e,t){if(null==e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1},Ct=function(e,t,n,r,o){if(null===(i=e)||"object"!=typeof i&&"function"!=typeof i||!t)return e;var i;if(t=St(t),n&&(t+="."+St(n)),r&&(t+="."+St(r)),o&&(t+="."+St(o)),t in e)return e[t];for(var a=t.split("."),s=a.length,c=-1;e&&++c<s;){for(var l=a[c];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+a[++c];e=e[l]}return e},At=st,Ot=function(e,t,n){return _t(e)?Et(Ct(e,t),n):Et(e,t)},Tt={"config.logger.show.parse":!1,"config.logger.show.render":!1,"config.logger.show.sound":!1,"config.logger.show.state":!1,"config.logger.show.story":!1,"config.logger.show.style":!1};function jt(e){return e+": "}function zt(e,t){un("config.logger.show.".concat(e))&&console.log(jt(e)+t),We.emit("log",{source:e,message:t})}function Lt(e,t){console.warn(jt(e)+t),We.emit("log-warning",{source:e,message:t})}function Nt(e){return{log:function(t){zt(e,t)},warn:function(t){Lt(e,t)}}}function $t(e,t){return e.querySelector(t)}function It(e,t){return Array.from(e.querySelectorAll(t))}window.logger={log:zt,warn:Lt};var Dt=Nt("story"),Pt={customScripts:[],customStyles:[]},qt=[];function Rt(e){["name","creator","ifid","options"].forEach((function(t){return Pt[t]=e.getAttribute(t)})),Pt.startNode=parseInt(e.getAttribute("startnode")),Pt.creatorVersion=e.getAttribute("creator-version");var t=function(e){return e.map((function(e){return e.textContent}))};Pt.customScripts=t(It(e,'[type="text/twine-javascript"]')),Pt.customStyles=t(It(e,'[type="text/twine-css"]')),qt=It(e,"tw-passagedata").map((function(e){var t={id:parseInt(e.getAttribute("pid")),name:e.getAttribute("name"),source:e.textContent},n=e.getAttribute("tags");return t.tags=n?n.split(" "):[],t}))}function Mt(){cn("trail",[Wt().name]),cn("config.testing","string"==typeof Pt.options&&-1!==Pt.options.indexOf("debug")||!1),document.title=Pt.name}function Ft(){Dt.log("Running custom scripts (".concat(Pt.customScripts.length,")")),Pt.customScripts.forEach((function(e){new Function(e).apply(window)}))}function Bt(){Dt.log("Adding custom styles (".concat(Pt.customStyles.length,")")),Pt.customStyles.forEach((function(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}))}function Ut(){return Pt.ifid}function Ht(){return Pt.name}function Zt(){return qt}function Wt(){return qt.find((function(e){return e.id===Pt.startNode}))}function Jt(e){return qt.find((function(t){return t.name===e}))}var Gt,Vt=Object.freeze({__proto__:null,loadFromData:Rt,init:Mt,runCustomScripts:Ft,addCustomStyles:Bt,ifid:Ut,name:Ht,exportedPassages:Zt,passages:Zt,startPassage:Wt,passageNamed:Jt,passageWithId:function(e){return qt.find((function(t){return t.id===e}))}}),Yt=Nt("state").log,Xt={},Kt={},Qt={},en={"config.state.autosave":!0};function tn(e,t){if(!e[t]){Object.defineProperty(e,t,{get:function(){return un(t)},set:function(e){sn(t,e)},configurable:!0});var n=t.split(".");n.length>1&&(n.pop(),tn(e,n.join(".")))}}function nn(e,t){!function(e,t){if(!At(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(Ot(e,t)){for(var n=t.split("."),r=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)r=n.pop().slice(0,-1)+"."+r;for(;n.length;)e=e[t=n.shift()];return delete e[r]}}(e,t)}function rn(){var e=Ut(),t=Ht();if(void 0===t)throw new Error("Cannot set up state: the story has no name");Gt="chapbook-state-".concat(t,"-").concat(e)}function on(){!function e(t,n){Object.keys(t).forEach((function(r){var o=""===n?r:"".concat(n,".").concat(r);if("object"!==Je(t[r])||Array.isArray(t[r])){var i=t[r];delete t[r],nn(window,n),We.emit("state-change",{name:o,value:un(o),previous:i})}else e(t[r],o)}))}(Xt,""),We.emit("state-reset"),un("config.state.autosave")&&hn()}function an(e,t){for(var n=e.split("."),r=t.split("."),o=0;o<n.length&&o<r.length;o++)if(n[o]!==r[o])return!1;return!0}function sn(e,t){var n=un(e);wt(Xt,e,t),tn(window,e),t!==n&&We.emit("state-change",{name:e,previous:n,value:t}),un("config.state.autosave")&&hn()}function cn(e,t){var n=un(e);Yt('Defaulting "'.concat(e,'" to ').concat(JSON.stringify(t))),wt(Kt,e,t),tn(window,e),null==n&&We.emit("state-change",{name:e,value:t,previous:n})}function ln(e,t){var n=un(e);Yt("Adding lookup variable ".concat(e)),wt(Qt,e,t),function(e,t){if(!e[t]){for(var n=t.split("."),r=n[n.length-1],o=0;o<n.length-1;o++)e[n[o]]=e[n[o]]||{},e=e[n[o]];Object.defineProperty(e,r,{get:function(){return un(t)},set:function(){throw new Error("Chapbook lookup variables may only be read.")},configurable:!0})}}(window,e),null==n&&We.emit("state-change",{name:e,value:un(e),previous:n})}function un(e){var t=lt(Qt,e);if("function"==typeof t)return t(un,sn);var n=lt(Xt,e);return null==n?lt(Kt,e):n}function fn(){return Object.assign({},Xt)}function pn(e){on(),Object.keys(e).forEach((function(t){return sn(t,e[t])}))}function dn(){try{return window.localStorage.setItem("chapbook-test","a"),window.localStorage.removeItem("chapbook-test"),!0}catch(e){return!1}}function hn(){Yt("Saving to local storage: "+JSON.stringify(fn())),window.localStorage.setItem(Gt,JSON.stringify(fn())),Yt("Save complete")}function gn(){return dn()&&null!==window.localStorage.getItem(Gt)}function mn(){Yt("Restoring variables from local storage"),pn(JSON.parse(window.localStorage.getItem(Gt))),Yt("Restore complete")}function bn(e){e||Yt("Purging variables from local storage"),pn(JSON.parse(window.localStorage.getItem(Gt))),e||Yt("Purge complete")}function vn(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.keys(e).reduce((function(r,o){if("object"===Je(e[o])&&e[o]&&!Array.isArray(e[o]))t(e[o],n?n+"."+o:o,r);else{var i=n?n+"."+o:o;-1===r.indexOf(i)&&r.push(i)}return r}),r)}return e?t(Kt,null,t(Xt,null)).sort():t(Xt).sort()}var yn=Object.freeze({__proto__:null,defaults:en,init:rn,reset:on,sameObject:an,set:sn,setDefault:cn,setLookup:ln,get:un,saveToObject:fn,restoreFromObject:pn,canSaveToStorage:dn,saveToStorage:hn,canRestoreFromStorage:gn,restoreFromStorage:mn,purgeFromStorage:bn,varNames:vn});function wn(e){zt("actions",e)}function kn(e){wn('Going to passage "'.concat(e,'"'));var t=Jt(e);if(!t)throw new Error('There is no passage with the name "'.concat(e,'"'));It(document,"[data-cb-set]").forEach((function(e){var t=e.dataset.set;switch(e.nodeName){case"INPUT":sn(t,e.value);break;case"SELECT":sn(t,e.options[e.selectedIndex].value);break;default:sn(t,e.textContent)}})),sn("trail",un("trail").concat(t.name))}function xn(){wn("Restarting"),on(),window.location.reload()}We.on("dom-click",(function(e){var t,n;e.dataset.cbGo&&(t=document.querySelector("form#cb-validation"),n=It(t,"input, select"),new Promise((function(e,r){var o=function e(){t.removeEventListener("submit",i),n.forEach((function(t){return t.removeEventListener("invalid",e)})),r()},i=function r(){t.removeEventListener("submit",r),n.forEach((function(e){return e.removeEventListener("invalid",o)})),e()};n.forEach((function(e){return e.addEventListener("invalid",o)})),t.addEventListener("submit",i),document.querySelector("button#cb-validation-tester").click()}))).then((function(){return kn(e.dataset.cbGo)}))})),We.on("dom-click",(function(e){e.dataset.cbRestart&&xn()}));var Sn=function(){},_n={},En=[],Cn=[];function An(e,t){var n,r,o,i,a=Cn;for(i=arguments.length;i-- >2;)En.push(arguments[i]);for(t&&null!=t.children&&(En.length||En.push(t.children),delete t.children);En.length;)if((r=En.pop())&&void 0!==r.pop)for(i=r.length;i--;)En.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?a[a.length-1]+=r:a===Cn?a=[r]:a.push(r),n=o;var s=new Sn;return s.nodeName=e,s.children=a,s.attributes=null==t?void 0:t,s.key=null==t?void 0:t.key,s}function On(e,t){for(var n in t)e[n]=t[n];return e}function Tn(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var jn="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,zn=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Ln=[];function Nn(e){!e._dirty&&(e._dirty=!0)&&1==Ln.push(e)&&jn($n)}function $n(){for(var e;e=Ln.pop();)e._dirty&&er(e)}function In(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&Dn(e,t.nodeName):n||e._componentConstructor===t.nodeName}function Dn(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function Pn(e){var t=On({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function qn(e){var t=e.parentNode;t&&t.removeChild(e)}function Rn(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)Tn(n,null),Tn(r,e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===zn.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Mn,a):e.removeEventListener(t,Mn,a),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var s=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function Mn(e){return this._listeners[e.type](e)}var Fn=[],Bn=0,Un=!1,Hn=!1;function Zn(){for(var e;e=Fn.shift();)e.componentDidMount&&e.componentDidMount()}function Wn(e,t,n,r,o,i){Bn++||(Un=null!=o&&void 0!==o.ownerSVGElement,Hn=null!=e&&!("__preactattr_"in e));var a=Jn(e,t,n,r,i);return o&&a.parentNode!==o&&o.appendChild(a),--Bn||(Hn=!1,i||Zn()),a}function Jn(e,t,n,r,o){var i=e,a=Un;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),Gn(e,!0))),i.__preactattr_=!0,i;var s,c,l=t.nodeName;if("function"==typeof l)return function(e,t,n,r){var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,c=s,l=Pn(t);for(;o&&!c&&(o=o._parentComponent);)c=o.constructor===t.nodeName;o&&c&&(!r||o._component)?(Qn(o,l,3,n,r),e=o.base):(i&&!s&&(tr(i),e=a=null),o=Xn(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e,a=null),Qn(o,l,1,n,r),e=o.base,a&&e!==a&&(a._component=null,Gn(a,!1)));return e}(e,t,n,r);if(Un="svg"===l||"foreignObject"!==l&&Un,l=String(l),(!e||!Dn(e,l))&&(s=l,(c=Un?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s)).normalizedNodeName=s,i=c,e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),Gn(e,!0)}var u=i.firstChild,f=i.__preactattr_,p=t.children;if(null==f){f=i.__preactattr_={};for(var d=i.attributes,h=d.length;h--;)f[d[h].name]=d[h].value}return!Hn&&p&&1===p.length&&"string"==typeof p[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=p[0]&&(u.nodeValue=p[0]):(p&&p.length||null!=u)&&function(e,t,n,r,o){var i,a,s,c,l,u=e.childNodes,f=[],p={},d=0,h=0,g=u.length,m=0,b=t?t.length:0;if(0!==g)for(var v=0;v<g;v++){var y=u[v],w=y.__preactattr_;null!=(k=b&&w?y._component?y._component.__key:w.key:null)?(d++,p[k]=y):(w||(void 0!==y.splitText?!o||y.nodeValue.trim():o))&&(f[m++]=y)}if(0!==b)for(v=0;v<b;v++){var k;if(l=null,null!=(k=(c=t[v]).key))d&&void 0!==p[k]&&(l=p[k],p[k]=void 0,d--);else if(h<m)for(i=h;i<m;i++)if(void 0!==f[i]&&In(a=f[i],c,o)){l=a,f[i]=void 0,i===m-1&&m--,i===h&&h++;break}l=Jn(l,c,n,r),s=u[v],l&&l!==e&&l!==s&&(null==s?e.appendChild(l):l===s.nextSibling?qn(s):e.insertBefore(l,s))}if(d)for(var v in p)void 0!==p[v]&&Gn(p[v],!1);for(;h<=m;)void 0!==(l=f[m--])&&Gn(l,!1)}(i,p,n,r,Hn||null!=f.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||Rn(e,r,n[r],n[r]=void 0,Un);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||Rn(e,r,n[r],n[r]=t[r],Un)}(i,t.attributes,f),Un=a,i}function Gn(e,t){var n=e._component;n?tr(n):(null!=e.__preactattr_&&Tn(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||qn(e),Vn(e))}function Vn(e){for(e=e.lastChild;e;){var t=e.previousSibling;Gn(e,!0),e=t}}var Yn=[];function Xn(e,t,n){var r,o=Yn.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),nr.call(r,t,n)):((r=new nr(t,n)).constructor=e,r.render=Kn);o--;)if(Yn[o].constructor===e)return r.nextBase=Yn[o].nextBase,Yn.splice(o,1),r;return r}function Kn(e,t,n){return this.constructor(e,n)}function Qn(e,t,n,r,o){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===_n.syncComponentUpdates&&e.base?Nn(e):er(e,1,o)),Tn(e.__ref,e))}function er(e,t,n,r){if(!e._disable){var o,i,a,s=e.props,c=e.state,l=e.context,u=e.prevProps||s,f=e.prevState||c,p=e.prevContext||l,d=e.base,h=e.nextBase,g=d||h,m=e._component,b=!1,v=p;if(e.constructor.getDerivedStateFromProps&&(c=On(On({},c),e.constructor.getDerivedStateFromProps(s,c)),e.state=c),d&&(e.props=u,e.state=f,e.context=p,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,l)?b=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,l),e.props=s,e.state=c,e.context=l),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!b){o=e.render(s,c,l),e.getChildContext&&(l=On(On({},l),e.getChildContext())),d&&e.getSnapshotBeforeUpdate&&(v=e.getSnapshotBeforeUpdate(u,f));var y,w,k=o&&o.nodeName;if("function"==typeof k){var x=Pn(o);(i=m)&&i.constructor===k&&x.key==i.__key?Qn(i,x,1,l,!1):(y=i,e._component=i=Xn(k,x,l),i.nextBase=i.nextBase||h,i._parentComponent=e,Qn(i,x,0,l,!1),er(i,1,n,!0)),w=i.base}else a=g,(y=m)&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),w=Wn(a,o,l,n||!d,g&&g.parentNode,!0));if(g&&w!==g&&i!==m){var S=g.parentNode;S&&w!==S&&(S.replaceChild(w,g),y||(g._component=null,Gn(g,!1)))}if(y&&tr(y),e.base=w,w&&!r){for(var _=e,E=e;E=E._parentComponent;)(_=E).base=w;w._component=_,w._componentConstructor=_.constructor}}for(!d||n?Fn.push(e):b||e.componentDidUpdate&&e.componentDidUpdate(u,f,v);e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);Bn||r||Zn()}}function tr(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?tr(n):t&&(null!=t.__preactattr_&&Tn(t.__preactattr_.ref,null),e.nextBase=t,qn(t),Yn.push(e),Vn(t)),Tn(e.__ref,null)}function nr(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}On(nr.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=On(On({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),Nn(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),er(this,2)},render:function(){}});var rr=[],or=!0;function ir(){or&&(rr=[],We.emit("backstage-recorder-update"))}function ar(e){var t=e.name,n=e.value;or&&(rr.length===un("config.backstage.trail.maxLength")&&rr.shift(),rr.push({change:{name:t,value:n},state:fn()}),We.emit("backstage-recorder-update"))}var sr=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={open:void 0===r.props.initiallyOpen||r.props.initiallyOpen},r}return Ye(n,[{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this;return An("div",{class:"panel"+(this.state.open?" open":"")},An("h2",null,An("button",{className:"small-caps",onClick:function(){return e.toggle()}},this.props.title)),this.state.open&&An("div",{class:"content"},this.props.children))}}]),n}(nr);function cr(e){if(0===e.length)return[];var t,n=[],r=[];return e.forEach((function(e,o){var i=e.change;"trail"===i.name?(n.push({historyIndex:o-1,passage:t,varChanges:r}),r=[],t=i.value[i.value.length-1]):r.push({name:i.name,value:i.value})})),n.push({historyIndex:e.length-1,passage:t,varChanges:r}),console.log("Parsed",e,n),n}function lr(e){var t=e.historyIndex,n=e.passage,r=e.varChanges,o=[An("tr",null,An("td",{class:"actions",rowspan:r.length+1},An("button",{onClick:t>=0?function(){return function(e){if(!rr[e])throw new Error("There is no history at index ".concat(e," to rewind to."));or=!1,pn(rr[e].state),rr.length=e+1,or=!0,We.emit("backstage-recorder-update")}(t)}:on},"↪")),An("td",{class:"go",rowspan:r.length+1,colspan:r.length>0?1:2},n?'Go to "'.concat(n,'"'):"Startup"))];return r.forEach((function(e){o.push(An("tr",null,An("td",null,e.name," ← ",JSON.stringify(e.value))))})),o}var ur=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={history:cr(rr)},r.updateBound=function(){return r.update()},r}return Ye(n,[{key:"update",value:function(){this.setState({history:cr(rr)})}},{key:"render",value:function(){var e;return e=this.state.history.length>0?An("table",{class:"history"},this.state.history.map(lr)):An("table",{class:"history"},An("tr",null,An("td",{class:"actions"},An("button",{onClick:on},"↪")),An("td",{class:"go"},"Startup"))),An(sr,{title:"History"},e)}},{key:"componentDidMount",value:function(){We.on("backstage-recorder-update",this.updateBound)}},{key:"componentDidUnmount",value:function(){We.removeEventListener("backstage-recorder-update",this.updateBound)}}]),n}(nr),fr="[object Symbol]",pr=/[&<>"'`]/g,dr=RegExp(pr.source),hr="object"==typeof e&&e&&e.Object===Object&&e,gr="object"==typeof self&&self&&self.Object===Object&&self,mr=hr||gr||Function("return this")();var br,vr=(br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(e){return null==br?void 0:br[e]}),yr=Object.prototype.toString,wr=mr.Symbol,kr=wr?wr.prototype:void 0,xr=kr?kr.toString:void 0;function Sr(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&yr.call(e)==fr}(e))return xr?xr.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var _r=function(e){var t;return(e=null==(t=e)?"":Sr(t))&&dr.test(e)?e.replace(pr,vr):e},Er=function(e){Xe(n,e);var t=tt(n);function n(e){var r;Ge(this,n),r=t.call(this,e);var o=un("trail");return r.state={currentPassage:o[o.length-1],notes:{}},r.restore(),r.syncBound=function(e){return r.sync(e)},r}return Ye(n,[{key:"sync",value:function(e){var t=e.name,n=e.value;"trail"===t&&this.setState({currentPassage:n[n.length-1]})}},{key:"restore",value:function(){var e=window.localStorage.getItem("cb-passage-notes-".concat(un("config.state.saveKey")));e&&this.setState({notes:JSON.parse(e)})}},{key:"save",value:function(){window.localStorage.setItem("cb-passage-notes-".concat(un("config.state.saveKey")),JSON.stringify(this.state.notes))}},{key:"saveNote",value:function(e,t){var n=Object.assign({},this.state.notes);n[e]=t,this.setState({notes:n}),this.save()}},{key:"export",value:function(){var e=this,t=Object.keys(this.state.notes).reduce((function(t,n){return t+'<li class="note"><span class="passage">'.concat(_r(n),"</span><pre>").concat(_r(e.state.notes[n]),"</pre></li>")}),""),n=document.createElement("a");n.setAttribute("download","".concat(un("story.name")," Notes - ").concat((new Date).toDateString()," ").concat((new Date).toTimeString(),".html")),n.setAttribute("href","data:text/html;base64,"+window.btoa("<style>body {font-family: sans-serif}</style><h1>Notes for &ldquo;".concat(_r(un("story.name")),'&rdquo;</h1><ul data-cb-backstage-notes data-cb-version="').concat(un("engine.version"),'">').concat(t,"</ul>"))),document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"startImport",value:function(){this.upload.click()}},{key:"import",value:function(e){var t=this,n=this.upload.files[0];if(n){var r=new FileReader(n);r.onload=function(e){var n=document.createElement("div"),r=Object.assign({},t.state.notes),o=0;n.innerHTML=e.target.result;var i=It(n,"ul[data-cb-backstage-notes] li");0!==i.length?(i.forEach((function(e){var t=$t(e,"span.passage"),n=$t(e,"pre");t&&n&&(r[t.textContent]=(r[t.textContent]||"")+"\n\n"+n.textContent,o++)})),t.setState({notes:r}),t.save(),window.alert("".concat(o," note(s) were imported."))):window.alert("No notes were found in this file.")},r.readAsText(n)}}},{key:"deleteAll",value:function(){window.confirm("Are you sure? This will delete all text entered in the Notes panel of Backstage, and cannot be undone.")&&(this.setState({notes:{}}),this.save())}},{key:"render",value:function(){var e=this;return An("div",null,An("p",null,An("label",null,"Notes on “",this.state.currentPassage,"”")),An("p",null,An("textarea",{value:this.state.notes[this.state.currentPassage],onInput:function(t){return e.saveNote(e.state.currentPassage,t.target.value)}})),An("p",null,An("button",{onClick:function(){return e.export()}},"Export All Notes"),An("button",{onClick:function(){return e.startImport()}},"Import Notes From File"),An("button",{onClick:function(){return e.deleteAll()}},"Delete All Notes")),An("input",{type:"file",hidden:!0,ref:function(t){return e.upload=t},onChange:function(){return e.import()}}))}},{key:"componentDidMount",value:function(){We.on("state-change",this.syncBound)}},{key:"componentDidUnmount",value:function(){We.removeListener("state-change",this.syncBound)}}]),n}(nr),Cr=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={snapshots:[]},r.restore(),r}return Ye(n,[{key:"addSnapshot",value:function(){var e=window.prompt("Enter a name for this snapshot:");e&&this.setState({snapshots:this.state.snapshots.concat({name:e,state:fn()})})}},{key:"loadSnapshot",value:function(e){pn(this.state.snapshots[e].state)}},{key:"deleteSnapshot",value:function(e){window.confirm('Are you sure you want to delete the snapshot "'.concat(this.state.snapshots[e].name,'"? This cannot be undone.'))&&this.setState({snapshots:this.state.snapshots.filter((function(t,n){return n!==e}))})}},{key:"save",value:function(){window.localStorage.setItem("cb-snapshots-".concat(un("config.state.saveKey")),JSON.stringify(this.state.snapshots))}},{key:"restore",value:function(){var e=window.localStorage.getItem("cb-snapshots-".concat(un("config.state.saveKey")));e&&this.setState({snapshots:JSON.parse(e)})}},{key:"render",value:function(){var e=this,t=this.state.snapshots.map((function(t,n){return An("div",{class:"segmented-button block"},An("button",{onClick:function(){return e.loadSnapshot(n)},title:'Load snapshot "{s.name}"'},t.name),An("button",{onClick:function(){return e.deleteSnapshot(n)},class:"fixed",title:'Delete snapshot "{s.name}"'},An("strong",null,"×")))}));return An(sr,{title:"Snapshots"},t,An("button",{class:"block",onClick:function(){return e.addSnapshot()}},"Add Snapshot"))}},{key:"componentDidUpdate",value:function(){this.save()}}]),n}(nr),Ar=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={varNames:[],showDefaults:!1},r.syncBound=function(){return r.syncWithState()},r}return Ye(n,[{key:"syncWithState",value:function(){this.setState({varNames:vn(this.state.showDefaults)})}},{key:"onChangeDefaults",value:function(e){this.setState({showDefaults:e.target.checked})}},{key:"onChangeVar",value:function(e,t){sn(t,JSON.parse(e.target.value))}},{key:"render",value:function(){var e=this;return An(sr,{title:"Variables"},An("p",null,An("input",{type:"checkbox",id:"cb-backstage-show-defaults",checked:this.state.showDefaults,onChange:function(t){return e.onChangeDefaults(t)}}),An("label",{for:"cb-backstage-show-defaults"},"Show Defaults")),An("table",null,this.state.varNames.map((function(t){return An("tr",null,An("td",null,t),An("td",null,An("input",{type:"text",value:JSON.stringify(un(t)),onChange:function(n){return e.onChangeVar(n,t)}})))}))))}},{key:"componentWillMount",value:function(){this.syncWithState(),We.on("state-change",this.syncBound)}},{key:"componentDidUpdate",value:function(e,t){t.showDefaults!==this.state.showDefaults&&this.syncWithState()}},{key:"componentWillUnmount",value:function(){We.removeListener("state-change",this.syncBound)}}]),n}(nr);function Or(){return An("div",null,An(Ar,null),An(Cr,null))}var Tr=["page","page.header","page.footer"].reduce((function(e,t){return e.concat(["config.style.".concat(t,".font"),"config.style.".concat(t,".color"),"config.style.".concat(t,".link.font"),"config.style.".concat(t,".link.color"),"config.style.".concat(t,".link.lineColor"),"config.style.".concat(t,".link.active.font"),"config.style.".concat(t,".link.active.color"),"config.style.".concat(t,".link.active.lineColor")])}),[]),jr=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state=Tr.reduce((function(e,t){return e[t]=un(t),e}),{}),r.onStateChangeBound=function(e){var t=e.name,n=e.value;return r.onStateChange(t,n)},r}return Ye(n,[{key:"onStateChange",value:function(e,t){this.state[e]&&this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"render",value:function(){var e=Object.keys(this.state).reduce((function(e,t){var n=un(t);return n?e+"".concat(t,": ").concat(JSON.stringify(n),"\n"):e}),"").trim();return An(sr,{title:"Config"},An("p",null,An("label",{for:"cb-backstage-style-config"},"Enter this code into your first passage’s vars section to permanently use this style:")),An("p",null,An("textarea",{readonly:!0,id:"cb-backstage-style-config",onClick:function(e){return e.target.select()}},e)))}},{key:"componentWillMount",value:function(){We.on("state-change",this.onStateChangeBound)}},{key:"componentWillUnmount",value:function(){We.removeListener("state-change",this.onStateChangeBound)}}]),n}(nr);function zr(e){var t=e.label,n=e.binding;return An("p",{class:"input-group"},An("label",{for:"cb-backstage-".concat(n)},t),An("input",{type:"text",id:"cb-backstage-".concat(n),value:un(n),onChange:function(e){return sn(n,e.target.value)}}))}function Lr(e){var t=e.title,n=e.prefix;return An(sr,{title:t,initiallyOpen:!1},An(zr,{label:"Font",binding:"config.style.".concat(n,".font")}),An(zr,{label:"Color",binding:"config.style.".concat(n,".color")}),An(zr,{label:"Link Font",binding:"config.style.".concat(n,".link.font")}),An(zr,{label:"Link Color",binding:"config.style.".concat(n,".link.color")}),An(zr,{label:"Link Line Color",binding:"config.style.".concat(n,".link.lineColor")}),An(zr,{label:"Active Link Font",binding:"config.style.".concat(n,".link.active.font")}),An(zr,{label:"Active Link Color",binding:"config.style.".concat(n,".link.active.color")}),An(zr,{label:"Active Link Line Color",binding:"config.style.".concat(n,".link.active.lineColor")}))}function Nr(){return An("div",null,An(jr,null),An(Lr,{title:"Page",prefix:"page"}),An(Lr,{title:"Header",prefix:"page.header"}),An(Lr,{title:"Footer",prefix:"page.footer"}))}var $r=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={selected:0},r}return Ye(n,[{key:"select",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=this,t=this.props.children.map((function(t,n){return An("li",null,An("button",{onClick:function(){return e.select(n)},class:n===e.state.selected&&"active"},t.attributes.label))}));return An("div",null,An("ul",{class:"tabs"},t),An("div",{class:"tab-content"},this.props.children[this.state.selected]))}}]),n}(nr),Ir=function(e){Xe(n,e);var t=tt(n);function n(e){var r;return Ge(this,n),(r=t.call(this,e)).state={open:!0},r}return Ye(n,[{key:"setBodyClass",value:function(){this.state.open?document.body.classList.add("backstage-visible"):document.body.classList.remove("backstage-visible")}},{key:"toggle",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=this,t=this.state.open?{icon:"→",text:"Close"}:{icon:"←",text:"Open"};return An("div",{id:"backstage",class:this.state.open&&"open"},An("button",{onClick:function(t){return e.toggle()},title:t.text+" backstage panel",class:"toggle-visibility"},t.icon),An($r,null,An(Or,{label:"State"}),An(ur,{label:"History"}),An(Nr,{label:"Style"}),An(Er,{label:"Notes"})))}},{key:"componentDidMount",value:function(){this.setBodyClass()}},{key:"componentDidUpdate",value:function(){this.setBodyClass()}}]),n}(nr);function Dr(){We.on("state-change",ar),We.on("state-reset",ir),function(e,t,n){Wn(n,e,{},!1,t,!1)}(An(Ir,null),document.body)}var Pr=Object.freeze({__proto__:null,Backstage:Ir,init:Dr}),qr={match:/^(no )?ambient\s+sound/i,render:function(e,t){var n=un("sound.ambient");if(n&&Object.keys(n).forEach((function(t){t!==e&&n[t].playing&&sn("sound.ambient.".concat(t,".playing"),!1)})),e){var r=un("sound.ambient.".concat(e,".description"))||"";return t.volume&&sn("sound.ambient.".concat(e,".volume"),t.volume),sn("sound.ambient.".concat(e,".playing"),!0),"<audio>".concat(r,"</audio>")}}};function Rr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=document.createElement(e),o=0,i=Object.keys(t);o<i.length;o++){var a=i[o];void 0!==t[a]&&r.setAttribute(a,t[a])}var s,c=at(n);try{for(c.s();!(s=c.n()).done;){var l=s.value;"string"==typeof l||"number"==typeof l?r.appendChild(document.createTextNode(l.toString())):r.appendChild(l)}}catch(e){c.e(e)}finally{c.f()}return r}function Mr(){return Rr.apply(void 0,arguments).outerHTML}function Fr(e,t){return/^\w+:\/\/\/?\w/i.test(e)?Mr("a",{href:e},[t||e]):Mr("a",{href:"javascript:void(0)","data-cb-go":e},[t||e])}function Br(e){return e.replace(/\[\[(.*?)\]\]/g,(function(e,t){var n=t,r=t.indexOf("|");if(-1!==r)n=t.substr(0,r),t=t.substr(r+1);else{var o=t.indexOf("->");if(-1!==o)n=t.substr(0,o),t=t.substr(o+2);else{var i=t.indexOf("<-");-1!==i&&(n=t.substr(i+2),t=t.substr(0,i))}}return Fr(t,n||t)}))}var Ur={match:/^back\s+link/i,render:function(e,t){var n=un("trail");return Fr(n.length>1?n[n.length-2]:n[0],t.label||"Back")}};var Hr=function(e,t,n){n=Object.assign({},Zr,n||{});let r=0,o=function(e){let t={ms:.001,s:1,m:60,h:3600};return t.d=e.hoursPerDay*t.h,t.w=e.daysPerWeek*t.d,t.mth=e.daysPerYear/e.monthsPerYear*t.d,t.y=e.daysPerYear*t.d,t}(n),i=e.toLowerCase().replace(/[^.\w+-]+/g,"").match(/[-+]?[0-9.]+[a-z]+/g);null!==i&&i.forEach((e=>{let t=e.match(/[0-9.]+/g)[0],n=e.match(/[a-z]+/g)[0];r+=function(e,t,n){return e*n[Jr(t)]}(t,n,o)}));if(t)return function(e,t,n){return e/n[Jr(t)]}(r,t,o);return r};const Zr={hoursPerDay:24,daysPerWeek:7,weeksPerMonth:4,monthsPerYear:12,daysPerYear:365.25},Wr={ms:["ms","milli","millisecond","milliseconds"],s:["s","sec","secs","second","seconds"],m:["m","min","mins","minute","minutes"],h:["h","hr","hrs","hour","hours"],d:["d","day","days"],w:["w","week","weeks"],mth:["mon","mth","mths","month","months"],y:["y","yr","yrs","year","years"]};function Jr(e){for(let t of Object.keys(Wr))if(Wr[t].indexOf(e)>-1)return t;throw new Error(`The unit [${e}] is not supported by timestring`)}function Gr(e){"static"===window.getComputedStyle(e).position&&(e.style.position="relative")}function Vr(e){var t=document.createElement(e.nodeName.toLowerCase());return t.innerHTML=e.innerHTML,t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.setAttribute("aria-hidden",!0),t.style.pointerEvents="none",It(t,"audio").forEach((function(e){return e.parentNode.removeChild(e)})),t}function Yr(e){try{var t="";t=(t=e.error&&e.error.stack?e.message+"\n\nStack trace:\n"+e.error.stack:e.message+"\n\n[No stack trace available]").replace("\nPlease report this to https://github.com/chjj/marked.","");var n=document.createElement("div"),r=document.querySelector("#page article"),o=un("trail");n.className="error",n.innerHTML="\n\t\t\t<p>\n\t\t\tAn unexpected error has occurred.\n\t\t\t</p>\n\t\t\t<pre>".concat(un("config.testing")?t:"",'</pre>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="javascript:void(0)" ').concat(o.length>1?"data-cb-back":"data-cb-refresh",'>Go back</a> to the previous passage.\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href="javascript:void(0)" data-cb-hard-restart>Hard restart</a>, clearing all progress and beginning from the start.\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t'),n.addEventListener("click",(function(e){if(e.target.closest("[data-cb-back]")){var t=un("trail");Array.isArray(t)?sn("trail",t.slice(0,t.length-1)):window.alert("Sorry, going back was not successful. Please try hard restarting.")}else{if(e.target.closest("[data-cb-refresh]"))sn("trail",rt(un("trail")));else e.target.closest("[data-cb-hard-restart]")&&(bn(!0),window.location.reload())}})),r.innerHTML="",r.appendChild(n)}catch(e){console.error(e)}}var Xr,Kr,Qr,eo={crossfade:function(e,t,n){return new Promise((function(r){var o=e.style.pointerEvents,i=Hr(n,"s");Gr(e),e.style.pointerEvents="none";var a=document.createElement("div");if(a.innerHTML=t,a.className="fade-in",a.style.animationDuration=i+"s",a.addEventListener("animationend",(function t(){a.removeEventListener("animationend",t),a.style.animationDuration=null,a.className="",e.style.pointerEvents=o,r()})),""!==e.innerHTML.trim()){var s=Vr(e);s.style.position="absolute",s.style.top="0",s.style.left="0",s.className="fade-out",s.style.animationDuration=i+"s",s.addEventListener("animationend",(function e(){s.removeEventListener("animationend",e),s.style.opacity=.5,s.parentNode.removeChild(s)})),e.innerHTML="",e.appendChild(a),e.appendChild(s)}else e.innerHTML="",e.appendChild(a)}))},fadeInOut:function(e,t,n){return new Promise((function(r){var o=e.style.pointerEvents,i=Hr(n,"s")/2;Gr(e),e.style.pointerEvents="none";var a=document.createElement("div");if(a.innerHTML=t,a.style.visibility="hidden",a.style.animationDuration=i+"s",a.addEventListener("animationend",(function t(){a.removeEventListener("animationend",t),a.className="",a.style.animationDuration=i+"s",e.style.pointerEvents=o,r()})),""!==e.innerHTML.trim()){var s=Vr(e);s.style.position="absolute",s.style.top="0",s.style.left="0",s.className="fade-out",s.style.animationDuration=i+"s",s.addEventListener("animationend",(function e(){s.removeEventListener("animationend",e),s.parentNode.removeChild(s),a.style.visibility="visible",a.className="fade-in"})),e.innerHTML="",e.appendChild(a),e.appendChild(s)}else a.className="fade-in",a.animationDuration=2*i,a.style.visibility="visible",a.className="fade-in",e.appendChild(a)}))},none:function(e,t){return new Promise((function(n){e.innerHTML="<div>".concat(t,"</div>"),n()}))}},to={"config.body.transition.name":"crossfade","config.body.transition.duration":"500ms","config.header.left":"","config.header.center":"","config.header.right":"","config.header.transition.name":"none","config.header.transition.duration":"500ms","config.footer.left":"_{story.name}_","config.footer.center":"","config.footer.right":"{restart link}","config.footer.transition.name":"none","config.footer.transition.duration":"500ms"};function no(e,t,n,r){eo[n]?eo[n](e,t,r):eo.none(e,t)}var ro,oo,io,ao=(ro=function(e){if(e.some((function(e){return e[0]}))){var t=un("trail"),n=Jt(t[t.length-1]);if(!n)throw new Error('There is no passage named "'.concat(t[t.length-1],'".'));window.scrollTo(0,0),no(Xr,fa(n.source),un("config.body.transition.name"),un("config.body.transition.duration")),function(e,t){var n,r=Date.now(),o=It(e,"[data-cb-skippable]").map((function(e){return{el:e,delay:1e3*Hr(window.getComputedStyle(e).animationDelay)}})).sort((function(e,t){return e.delay-t.delay}));function i(){var e=Date.now()-r,t=Object.assign({},o.find((function(t){return t.delay>e})));t?(o.forEach((function(e){e.delay<=t.delay?(e.delay=0,e.el.classList.add("skip-animation")):(e.delay-=t.delay,e.el.style.animationDelay="".concat(e.delay,"ms"))})),r=Date.now(),window.clearTimeout(n),a()):s()}function a(){n&&window.clearTimeout(n),n=window.setTimeout(s,o[o.length-1].delay)}function s(){t.classList.remove("visible"),document.body.removeEventListener("click",i),document.body.removeEventListener("keyup",i)}0!==o.length&&(t.classList.add("visible"),a(),window.setTimeout((function(){document.body.addEventListener("click",i),document.body.addEventListener("keyup",i)}),50))}(Xr,Qr)}["header","footer"].forEach((function(e){Kr[e].container.classList.remove("has-content"),["left","center","right"].forEach((function(t){var n=fa(un("config.".concat(e,".").concat(t)));""!==n&&Kr[e].container.classList.add("has-content"),no(Kr[e][t],n,un("config.".concat(e,".transition.name")),un("config.".concat(e,".transition.duration")))}))}))},oo=[],io=!1,function(){io||(io=!0,Promise.resolve().then((function(){try{ro(oo)}catch(e){window.setTimeout((function(){throw e}),0)}oo=[],io=!1})));for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];oo.push(t)});function so(e){It(Xr,"input").forEach((function(e){e.setAttribute("value",e.value)})),It(Xr,"select").forEach((function(e){for(var t=0;t<e.options.length;t++)t===e.options.selectedIndex?e.options[t].setAttribute("selected",""):e.options[t].removeAttribute("selected")}));for(var t={x:window.scrollX,y:window.scrollY},n=Xr.innerHTML,r=document.createElement("div");Xr.firstChild;)r.insertBefore(Xr.firstChild,r.firstChild);Xr.innerHTML=n,e(r),window.scrollX=t.x,window.scrollY=t.y,no(Xr,r.innerHTML,un("config.body.transition.name"),un("config.body.transition.duration"))}var co={match:/^cycling\s+link(\s+for)?/i,render:function(e,t){var n;return e?void 0===(n=un(e))&&(sn(e,t.choices[0]),n=t.choices[0]):n=t.choices[0],Mr("a",{href:"javascript:void(0)","data-cb-cycle-set":null!=e?e:void 0,"data-cb-cycle-choices":JSON.stringify(t.choices)},[n])}};We.on("dom-click",(function(e){if(e.dataset.cbCycleChoices){var t=JSON.parse(e.dataset.cbCycleChoices),n=t.map((function(e){return"string"==typeof e?e:e.toString()})).indexOf(e.textContent)+1;n===t.length&&(n=0),so((function(){return e.textContent=t[n]})),e.dataset.cbCycleSet&&sn(e.dataset.cbCycleSet,t[n])}}));var lo={match:/^embed\s+flickr(\s+image)?/i,render:function(e,t){return Mr("img",Object.assign({},t,{src:/img src="(.+?)"/.exec(e)[1]}))}},uo={match:/^embed\s+image?/i,render:function(e,t){return Mr("img",Object.assign({},t,{src:e}))}},fo={match:/^embed\s+passage(\s+named)?/i,render:function(e){return fa(Jt(e).source)}},po={match:/^embed\s+unsplash(\s+image)?/i,render:function(e,t){return Mr("img",Object.assign({},t,{src:"https://source.unsplash.com/".concat(e.replace(/.*\//,""),"/").concat(t.width,"x").concat(t.height)}))}},ho={match:/^embed\s+youtube(\s+video)?/i,render:function(e,t){var n="https://www.youtube-nocookie.com/embed/".concat(e.replace(/.*\?v=/,""),"?modestbranding=1&rel=0&controls=").concat(t.controls?1:0,"&");return t.autoplay&&(n+="autoplay=1&"),t.loop&&(n+="loop=1&"),Mr("div",{style:"position: relative; height: 0; padding-bottom: 56.25%; margin-bottom: 1em"},[Rr("iframe",{src:n,frameBorder:0,style:"position: absolute; top: 0; left: 0; width: 100%; height: 100%"})])}},go={match:/^link\s+to/i,render:function(e,t){return Fr(e,t.label)}},mo={match:/^dropdown menu(\s+for)?/i,render:function(e,t){var n;return e&&void 0===(n=un(e))&&(sn(e,t.choices[0]),n=t.choices[0]),Mr("select",{"data-cb-menu-choices":JSON.stringify(t.choices),"data-cb-menu-set":null!=e?e:void 0},t.choices.map((function(t){var r={value:t};return e&&n===t&&(r.selected=""),Rr("option",r,[t])})))}};We.on("dom-change",(function(e){if(e.dataset.cbMenuSet){var t=JSON.parse(e.dataset.cbMenuChoices),n=e.querySelectorAll("option")[e.selectedIndex].value,r=t.map((function(e){return"string"==typeof e?e:e.toString()})).findIndex((function(e){return e===n}));-1!==r&&sn(e.dataset.cbMenuSet,t[r])}}));var bo={match:/^restart\s+link/i,render:function(e,t){return Mr("a",{href:"javascript:void(0)","data-cb-restart":!0},[t.label||"Restart"])}},vo={match:/^reveal\s+link/i,render:function(e,t){return t.text?Mr("a",{href:"javascript:void(0)","data-cb-reveal-text":t.text},[e]):t.passage?Mr("a",{href:"javascript:void(0)","data-cb-reveal-passage":t.passage},[e]):void 0}};We.on("dom-click",(function(e){var t=e.dataset.cbRevealText;if(e.dataset.cbRevealPassage&&(t=Jt(e.dataset.cbRevealPassage).source),t){var n=document.createElement("div");n.innerHTML=fa(t).trim(),so((function(){var t=n.children.length;if(t>0){var r=document.createElement("span");if(r.innerHTML=n.firstChild.innerHTML,e.parentNode.insertBefore(r,e),n.removeChild(n.firstChild),t>1){for(var o=n.lastChild;n.lastChild;)e.parentNode.parentNode.insertBefore(n.lastChild,e.parentNode.nextSibling);for(;e.nextSibling;)o.insertBefore(e.nextSibling,null)}}e.parentNode.removeChild(e)}))}}));var yo={match:/^sound\s+effect/i,render:function(e,t){var n=un("sound.effect.".concat(e,".description"))||"";return t.volume&&sn("sound.effect.".concat(e,".volume"),t.volume),sn("sound.effect.".concat(e,".playing"),!0),"<audio>".concat(n,"</audio>")}},wo={match:/^text\s+input(\s+for)?/i,render:function(e,t){return Mr("input",{type:"text",value:e?un(e):"","data-cb-text-field-set":e||void 0,required:!1!==t.required?"":void 0})}};We.on("dom-change",(function(e){e.dataset.cbTextFieldSet&&sn(e.dataset.cbTextFieldSet,e.value)}));var ko=[qr,Ur,co,lo,uo,fo,po,ho,go,mo,bo,vo,yo,wo],xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="<span"+Object.keys(t).reduce((function(e,n){return e+" ".concat(n,'="').concat(t[n],'"')}),"")+">",r=n+e.replace(/[\r\n]{2,}/g,"</span>$&".concat(n))+"</span>";return r=r.replace(/(<span.*?>)\s*(#+)/gi,"$2 $1")},So={match:/^after\s/i,process:function(e,t){var n=t.invocation,r=Hr(n.replace(/^after\s/i,""),"ms");e.text=xo(e.text,{"data-cb-skippable":"",class:"fade-in",style:"animation-delay: ".concat(r,"ms")})}},_o={match:/^align\s+(left|right|center)/i,process:function(e,t){var n=t.invocation.replace(/^align\s+/i,"");e.text=xo(e.text,{style:"display: block; text-align: ".concat(n)})}},Eo={match:/^if(always|never)?\s|else$|unless\s/i,processRaw:function(e,t){var n,r=t.invocation,o=t.state,i=r.replace(/\s.*/,"").toLowerCase();switch("else"!==i&&(n=new Function("return "+r.replace(/.*?\s/,""))),i){case"if":o.conditionEval=n.apply(window);break;case"ifalways":o.conditionEval=!0;break;case"ifnever":o.conditionEval=!1;break;case"unless":o.conditionEval=!n.apply(window);break;case"else":if(void 0===o.conditionEval)throw new Error("There was no matching if modifier for an else modifier.");o.conditionEval=!o.conditionEval}o.conditionEval||(e.text="")}},Co="[object Symbol]",Ao=/&(?:amp|lt|gt|quot|#39|#96);/g,Oo=RegExp(Ao.source),To="object"==typeof e&&e&&e.Object===Object&&e,jo="object"==typeof self&&self&&self.Object===Object&&self,zo=To||jo||Function("return this")();var Lo=function(e){return function(t){return null==e?void 0:e[t]}}({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"}),No=Object.prototype.toString,$o=zo.Symbol,Io=$o?$o.prototype:void 0,Do=Io?Io.toString:void 0;function Po(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&No.call(e)==Co}(e))return Do?Do.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var qo=function(e){var t;return(e=null==(t=e)?"":Po(t))&&Oo.test(e)?e.replace(Ao,Lo):e},Ro={match:/^javascript$/i,process:function(e){try{var t=new Function("\n\t\t\t\t\t\tfunction write() { write.__out += write.__join.call(arguments, ''); }\n\t\t\t\t\t\twrite.__out = '';\n\t\t\t\t\t\twrite.__join = Array.prototype.join;\n\t\t\t\t\t\t".concat(qo(e.text),";\n\t\t\t\t\t\treturn write.__out;\n\t\t\t\t\t"));e.text=t.apply(window)}catch(t){if(!un("config.testing"))throw t;var n="unknown error";n=t.error&&t.error.stack?t.error.stack:t.message+"\n[No stack trace available]",e.text='<div class="error">An error occured evaluating:<pre>'.concat(e.text,"</pre><p><pre>").concat(n,"</pre></p></div>")}}},Mo=[So,_o,{match:/^append$/i,process:function(e){e.startsNewParagraph=!1}},Eo,{match:/^continued?|cont('d)?$/i,process:function(){}},{match:/^css$/i,process:function(e){e.text="<style>".concat(e.text,"</style>")}},Ro,{match:/^(note(\s+to\s+self)?|n?b?|todo|fixme)$/i,process:function(e){e.text=""}}],Fo=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string in the first argument, got "+typeof e);if(!(t&&t.preserveNewlines))return e.split(/\r?\n/);for(var n=e.split(/(\r?\n)/),r=[],o=0;o<n.length;o+=2)r.push(n[o]+(n[o+1]||""));return r},Bo=Nt("parse"),Uo=Bo.log,Ho=Bo.warn,Zo={varsSep:/^--$/m,modifierPattern:/^\[([^[].+[^\]])\]$/gm};function Wo(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo,o={vars:[],blocks:[]},i=e.split(r.varsSep,2);if(2===i.length){Uo("Detected vars section");var a=nt(i,2);t=a[0],n=a[1],Fo(t).forEach((function(e){if(""!==e.trim()){var t=e.indexOf(":");if(-1!==t){var n=e.substr(0,t).trim(),r=e.substr(t+1).trim(),i={name:n,value:new Function("return (".concat(r,")"))},a=n.match(/\(.+\)/);a?(i.condition=new Function("return (".concat(a[0],")")),i.name=(i.name.substr(0,a.index)+i.name.substr(a.index+a[0].length)).trim(),Uo('Setting variable "'.concat(i.name,'" to "').concat(r,'" with condition (').concat(a[0],")"))):Uo('Setting variable "'.concat(n,'" to "').concat(r,'" without condition')),o.vars.push(i)}else Ho('The line "'.concat(e,'" in the vars section is missing a colon. It was ignored.'))}}))}else Uo("No vars section detected"),n=i[0];for(var s=function(e,t){var n=t.trim();""!==n&&(Uo("Creating '".concat(e,"' block with content: \"").concat(n,'"')),o.blocks.push({type:e,content:n}))},c=new RegExp(r.modifierPattern),l=0,u=c.exec(n);u;){s("text",n.substring(l,u.index));for(var f=u[1],p="",d=0;d<f.length;d++)switch(f[d]){case'"':for(p+='"',d+=1;d<f.length&&(p+=f[d],'"'!==f[d]||"\\"===f[d-1]);d++);break;case";":s("modifier",p),p="";break;default:p+=f[d]}s("modifier",p),l=c.lastIndex,u=c.exec(n)}return s("text",n.substring(l)),o}var Jo={exports:{}};function Go(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Jo.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:Go,changeDefaults:function(e){Jo.exports.defaults=e}};const Vo=/[&<>"']/,Yo=/[&<>"']/g,Xo=/[<>"']|&(?!#?\w+;)/,Ko=/[<>"']|&(?!#?\w+;)/g,Qo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei=e=>Qo[e];const ti=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ni(e){return e.replace(ti,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ri=/(^|[^\[])\^/g;const oi=/[^\w:]/g,ii=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const ai={},si=/^[^:]+:\/*[^/]*$/,ci=/^([^:]+:)[\s\S]*$/,li=/^([^:]+:\/*[^/]*)[\s\S]*$/;function ui(e,t){ai[" "+e]||(si.test(e)?ai[" "+e]=e+"/":ai[" "+e]=fi(e,"/",!0));const n=-1===(e=ai[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(ci,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(li,"$1")+t:e+t}function fi(e,t,n){const r=e.length;if(0===r)return"";let o=0;for(;o<r;){const i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.substr(0,r-o)}var pi={escape:function(e,t){if(t){if(Vo.test(e))return e.replace(Yo,ei)}else if(Xo.test(e))return e.replace(Ko,ei);return e},unescape:ni,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(ri,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(ni(n)).replace(oi,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!ii.test(n)&&(n=ui(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:ui,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:fi,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])r++;else if(e[o]===t[1]&&(r--,r<0))return o;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{defaults:di}=Jo.exports,{rtrim:hi,splitCells:gi,escape:mi,findClosingBracket:bi}=pi;function vi(e,t,n){const r=t.href,o=t.title?mi(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:o,text:i}:{type:"image",raw:n,href:r,title:o,text:mi(i)}}var yi=class{constructor(e){this.options=e||di}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e,t){const n=this.rules.block.code.exec(e);if(n){const e=t[t.length-1];if(e&&"paragraph"===e.type)return{raw:n[0],text:n[0].trimRight()};const r=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:hi(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=hi(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e}}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:"table",header:gi(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]="right":/^ *:-+: *$/.test(e.align[t])?e.align[t]="center":/^ *:-+ *$/.test(e.align[t])?e.align[t]="left":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=gi(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],r=n.length>1,o={type:"list",raw:e,ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]},i=t[0].match(this.rules.block.item);let a,s,c,l,u,f,p,d,h=!1,g=i.length;c=this.rules.block.listItemStart.exec(i[0]);for(let t=0;t<g;t++){if(a=i[t],e=a,t!==g-1){if(l=this.rules.block.listItemStart.exec(i[t+1]),l[1].length>c[0].length||l[1].length>3){i.splice(t,2,i[t]+"\n"+i[t+1]),t--,g--;continue}(!this.options.pedantic||this.options.smartLists?l[2][l[2].length-1]!==n[n.length-1]:r===(1===l[2].length))&&(u=i.slice(t+1).join("\n"),o.raw=o.raw.substring(0,o.raw.length-u.length),t=g-1),c=l}s=a.length,a=a.replace(/^ *([*+-]|\d+[.)]) ?/,""),~a.indexOf("\n ")&&(s-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+s+"}","gm"),"")),f=h||/\n\n(?!\s*$)/.test(a),t!==g-1&&(h="\n"===a.charAt(a.length-1),f||(f=h)),f&&(o.loose=!0),this.options.gfm&&(p=/^\[[ xX]\] /.test(a),d=void 0,p&&(d=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:e,task:p,checked:d,loose:f,text:a})}return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):mi(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));return{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:gi(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(r=e.cells.length,n=0;n<r;n++)e.cells[n]=gi(e.cells[n].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e,t){const n=this.rules.block.text.exec(e);if(n){const e=t[t.length-1];return e&&"text"===e.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:mi(t[1])}}tag(e,t,n){const r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):mi(r[0]):r[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=hi(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=bi(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),vi(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return vi(n,e,n[0])}}strong(e,t,n=""){let r=this.rules.inline.strong.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;let o;for(n.lastIndex=0;null!=(r=n.exec(t));)if(o=this.rules.inline.strong.middle.exec(t.slice(0,r.index+3)),o)return{type:"strong",raw:e.slice(0,o[0].length),text:e.slice(2,o[0].length-2)}}}em(e,t,n=""){let r=this.rules.inline.em.start.exec(e);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);const n="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;let o;for(n.lastIndex=0;null!=(r=n.exec(t));)if(o=this.rules.inline.em.middle.exec(t.slice(0,r.index+2)),o)return{type:"em",raw:e.slice(0,o[0].length),text:e.slice(1,o[0].length-1)}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=mi(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=mi(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=mi(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=mi(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=mi(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t,n){const r=this.rules.inline.text.exec(e);if(r){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):mi(r[0]):r[0]:mi(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}};const{noopTest:wi,edit:ki,merge:xi}=pi,Si={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:wi,table:wi,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Si.def=ki(Si.def).replace("label",Si._label).replace("title",Si._title).getRegex(),Si.bullet=/(?:[*+-]|\d{1,9}[.)])/,Si.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Si.item=ki(Si.item,"gm").replace(/bull/g,Si.bullet).getRegex(),Si.listItemStart=ki(/^( *)(bull)/).replace("bull",Si.bullet).getRegex(),Si.list=ki(Si.list).replace(/bull/g,Si.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Si.def.source+")").getRegex(),Si._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Si._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Si.html=ki(Si.html,"i").replace("comment",Si._comment).replace("tag",Si._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Si.paragraph=ki(Si._paragraph).replace("hr",Si.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Si._tag).getRegex(),Si.blockquote=ki(Si.blockquote).replace("paragraph",Si.paragraph).getRegex(),Si.normal=xi({},Si),Si.gfm=xi({},Si.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Si.gfm.nptable=ki(Si.gfm.nptable).replace("hr",Si.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Si._tag).getRegex(),Si.gfm.table=ki(Si.gfm.table).replace("hr",Si.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Si._tag).getRegex(),Si.pedantic=xi({},Si.normal,{html:ki("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Si._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wi,paragraph:ki(Si.normal._paragraph).replace("hr",Si.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Si.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const _i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:wi,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:wi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};_i.punctuation=ki(_i.punctuation).replace(/punctuation/g,_i._punctuation).getRegex(),_i._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",_i._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",_i._comment=ki(Si._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),_i.em.start=ki(_i.em.start).replace(/punctuation/g,_i._punctuation).getRegex(),_i.em.middle=ki(_i.em.middle).replace(/punctuation/g,_i._punctuation).replace(/overlapSkip/g,_i._overlapSkip).getRegex(),_i.em.endAst=ki(_i.em.endAst,"g").replace(/punctuation/g,_i._punctuation).getRegex(),_i.em.endUnd=ki(_i.em.endUnd,"g").replace(/punctuation/g,_i._punctuation).getRegex(),_i.strong.start=ki(_i.strong.start).replace(/punctuation/g,_i._punctuation).getRegex(),_i.strong.middle=ki(_i.strong.middle).replace(/punctuation/g,_i._punctuation).replace(/overlapSkip/g,_i._overlapSkip).getRegex(),_i.strong.endAst=ki(_i.strong.endAst,"g").replace(/punctuation/g,_i._punctuation).getRegex(),_i.strong.endUnd=ki(_i.strong.endUnd,"g").replace(/punctuation/g,_i._punctuation).getRegex(),_i.blockSkip=ki(_i._blockSkip,"g").getRegex(),_i.overlapSkip=ki(_i._overlapSkip,"g").getRegex(),_i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,_i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,_i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,_i.autolink=ki(_i.autolink).replace("scheme",_i._scheme).replace("email",_i._email).getRegex(),_i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,_i.tag=ki(_i.tag).replace("comment",_i._comment).replace("attribute",_i._attribute).getRegex(),_i._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,_i._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,_i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,_i.link=ki(_i.link).replace("label",_i._label).replace("href",_i._href).replace("title",_i._title).getRegex(),_i.reflink=ki(_i.reflink).replace("label",_i._label).getRegex(),_i.reflinkSearch=ki(_i.reflinkSearch,"g").replace("reflink",_i.reflink).replace("nolink",_i.nolink).getRegex(),_i.normal=xi({},_i),_i.pedantic=xi({},_i.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ki(/^!?\[(label)\]\((.*?)\)/).replace("label",_i._label).getRegex(),reflink:ki(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_i._label).getRegex()}),_i.gfm=xi({},_i.normal,{escape:ki(_i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),_i.gfm.url=ki(_i.gfm.url,"i").replace("email",_i.gfm._extended_email).getRegex(),_i.breaks=xi({},_i.gfm,{br:ki(_i.br).replace("{2,}","*").getRegex(),text:ki(_i.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Ei={block:Si,inline:_i};const Ci=yi,{defaults:Ai}=Jo.exports,{block:Oi,inline:Ti}=Ei,{repeatString:ji}=pi;function zi(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Li(e){let t,n,r="";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}const{defaults:Ni}=Jo.exports,{cleanUrl:$i,escape:Ii}=pi;var Di=class{constructor(e){this.options=e||Ni}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+Ii(r,!0)+'">'+(n?e:Ii(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Ii(e,!0))+"</code></pre>\n"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=$i(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+Ii(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=$i(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}},Pi=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},qi=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do{r++,n=e+"-"+r}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}};const Ri=Di,Mi=Pi,Fi=qi,{defaults:Bi}=Jo.exports,{unescape:Ui}=pi;const Hi=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ai,this.options.tokenizer=this.options.tokenizer||new Ci,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:Oi.normal,inline:Ti.normal};this.options.pedantic?(t.block=Oi.pedantic,t.inline=Ti.pedantic):this.options.gfm&&(t.block=Oi.gfm,this.options.breaks?t.inline=Ti.breaks:t.inline=Ti.gfm),this.tokenizer.rules=t}static get rules(){return{block:Oi,inline:Ti}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let r,o,i,a;for(e=e.replace(/^ +$/gm,"");e;)if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(a=t[t.length-1],a.raw+="\n"+r.raw,a.text+="\n"+r.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),i=r.items.length,o=0;o<i;o++)r.items[o].tokens=this.blockTokens(r.items[o].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.paragraph(e)))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.text(e,t))e=e.substring(r.raw.length),r.type?t.push(r):(a=t[t.length-1],a.raw+="\n"+r.raw,a.text+="\n"+r.text);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}return t}inline(e){let t,n,r,o,i,a;const s=e.length;for(t=0;t<s;t++)switch(a=e[t],a.type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},o=a.header.length,n=0;n<o;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(o=a.cells.length,n=0;n<o;n++)for(i=a.cells[n],a.tokens.cells[n]=[],r=0;r<i.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(i[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(o=a.items.length,n=0;n<o;n++)this.inline(a.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,r=!1){let o,i,a,s,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+ji("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+ji("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(a||(s=""),a=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(e,n,r))e=e.substring(o.raw.length),n=o.inLink,r=o.inRawBlock,t.push(o);else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,r)),t.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,r)),t.push(o);else if(o=this.tokenizer.strong(e,c,s))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.em(e,c,s))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,r),t.push(o);else if(o=this.tokenizer.autolink(e,Li))e=e.substring(o.raw.length),t.push(o);else if(n||!(o=this.tokenizer.url(e,Li))){if(o=this.tokenizer.inlineText(e,r,zi))e=e.substring(o.raw.length),s=o.raw.slice(-1),a=!0,t.push(o);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(o.raw.length),t.push(o);return t}},Zi=class e{constructor(e){this.options=e||Bi,this.options.renderer=this.options.renderer||new Ri,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Mi,this.slugger=new Fi}static parse(t,n){return new e(n).parse(t)}static parseInline(t,n){return new e(n).parseInline(t)}parse(e,t=!0){let n,r,o,i,a,s,c,l,u,f,p,d,h,g,m,b,v,y,w="";const k=e.length;for(n=0;n<k;n++)switch(f=e[n],f.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(f.tokens),f.depth,Ui(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(l="",c="",i=f.header.length,r=0;r<i;r++)c+=this.renderer.tablecell(this.parseInline(f.tokens.header[r]),{header:!0,align:f.align[r]});for(l+=this.renderer.tablerow(c),u="",i=f.cells.length,r=0;r<i;r++){for(s=f.tokens.cells[r],c="",a=s.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(s[o]),{header:!1,align:f.align[o]});u+=this.renderer.tablerow(c)}w+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(f.tokens),w+=this.renderer.blockquote(u);continue;case"list":for(p=f.ordered,d=f.start,h=f.loose,i=f.items.length,u="",r=0;r<i;r++)m=f.items[r],b=m.checked,v=m.task,g="",m.task&&(y=this.renderer.checkbox(b),h?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=y+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=y+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:y}):g+=y),g+=this.parse(m.tokens,h),u+=this.renderer.listitem(g,v,b);w+=this.renderer.list(u,p,d);continue;case"html":w+=this.renderer.html(f.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(u=f.tokens?this.parseInline(f.tokens):f.text;n+1<k&&"text"===e[n+1].type;)f=e[++n],u+="\n"+(f.tokens?this.parseInline(f.tokens):f.text);w+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+f.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return w}parseInline(e,t){t=t||this.renderer;let n,r,o="";const i=e.length;for(n=0;n<i;n++)switch(r=e[n],r.type){case"escape":case"text":o+=t.text(r.text);break;case"html":o+=t.html(r.text);break;case"link":o+=t.link(r.href,r.title,this.parseInline(r.tokens,t));break;case"image":o+=t.image(r.href,r.title,r.text);break;case"strong":o+=t.strong(this.parseInline(r.tokens,t));break;case"em":o+=t.em(this.parseInline(r.tokens,t));break;case"codespan":o+=t.codespan(r.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(r.tokens,t));break;default:{const e='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}},Wi=yi,Ji=Di,Gi=Pi,Vi=qi,{merge:Yi,checkSanitizeDeprecation:Xi,escape:Ki}=pi,{getDefaults:Qi,changeDefaults:ea,defaults:ta}=Jo.exports;function na(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=Yi({},na.defaults,t||{}),Xi(t),n){const r=t.highlight;let o;try{o=Hi.lex(e,t)}catch(e){return n(e)}const i=function(e){let i;if(!e)try{i=Zi.parse(o,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,i)};if(!r||r.length<3)return i();if(delete t.highlight,!o.length)return i();let a=0;return na.walkTokens(o,(function(e){"code"===e.type&&(a++,setTimeout((()=>{r(e.text,e.lang,(function(t,n){if(t)return i(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),a--,0===a&&i()}))}),0))})),void(0===a&&i())}try{const n=Hi.lex(e,t);return t.walkTokens&&na.walkTokens(n,t.walkTokens),Zi.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ki(e.message+"",!0)+"</pre>";throw e}}na.options=na.setOptions=function(e){return Yi(na.defaults,e),ea(na.defaults),na},na.getDefaults=Qi,na.defaults=ta,na.use=function(e){const t=Yi({},e);if(e.renderer){const n=na.defaults.renderer||new Ji;for(const t in e.renderer){const r=n[t];n[t]=(...o)=>{let i=e.renderer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.renderer=n}if(e.tokenizer){const n=na.defaults.tokenizer||new Wi;for(const t in e.tokenizer){const r=n[t];n[t]=(...o)=>{let i=e.tokenizer[t].apply(n,o);return!1===i&&(i=r.apply(n,o)),i}}t.tokenizer=n}if(e.walkTokens){const n=na.defaults.walkTokens;t.walkTokens=t=>{e.walkTokens(t),n&&n(t)}}na.setOptions(t)},na.walkTokens=function(e,t){for(const n of e)switch(t(n),n.type){case"table":for(const e of n.tokens.header)na.walkTokens(e,t);for(const e of n.tokens.cells)for(const n of e)na.walkTokens(n,t);break;case"list":na.walkTokens(n.items,t);break;default:n.tokens&&na.walkTokens(n.tokens,t)}},na.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=Yi({},na.defaults,t||{}),Xi(t);try{const n=Hi.lexInline(e,t);return t.walkTokens&&na.walkTokens(n,t.walkTokens),Zi.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Ki(e.message+"",!0)+"</pre>";throw e}},na.Parser=Zi,na.parser=Zi.parse,na.Renderer=Ji,na.TextRenderer=Gi,na.Lexer=Hi,na.lexer=Hi.lex,na.Tokenizer=Wi,na.Slugger=Vi,na.parse=na;var ra=na,oa=new ra.Renderer;function ia(e,t){var n=e.substr(1,e.length-2).trim();if(/\s/.test(n)){var r=n.match(/^[^:,]+/)[0],o=t.find((function(e){return e.match.test(r)}));if(o){var i=n.replace(r,"");if(":"===i[0]){var a=new Function('return {"'.concat(r,'" ').concat(i,"}"))(),s=a[r];return delete a[r],o.render(s,a,n)}if(","===i[0]){var c=new Function("return {".concat(i.substr(1),"}"))();return o.render(null,c,n)}if(""===i)return o.render(null,{},n)}}else{var l,u=/(.+)\[(.+)\]$/.exec(n);if(void 0!==(l=u?un(u[1])[u[2]]:un(n)))return l}return e}function aa(e,t){var n="",r=0,o=e.indexOf("{");if(-1===o)return e;for(var i,a=!1,s=o+1;s<e.length;s++)switch(e[s]){case"{":o=s,a=!1;break;case'"':case"'":s>0&&"\\"!==e[s-1]&&(a?a&&i===e[s]&&(a=!1):(a=!0,i=e[s]));break;case"}":if(!a){var c=e.substring(o,s+1),l="";try{l=ia(c,t)}catch(e){console.warn('An error occurred while rendering "'.concat(c,'": ').concat(e.message)),l=c}void 0===l&&(l=""),n+=e.substring(r,o)+l,r=s+1,-1===(o=e.indexOf("{",r))&&(s=e.index)}}return n+e.substring(r)}Object.assign(oa,{blockquote:function(e){return'<div class="fork">'.concat(e,"</div>")},del:function(e){return'<span class="small-caps">'.concat(e,"</span>")}});var sa=Nt("render").log,ca={renderer:oa,smartypants:!0};function la(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.vars)throw new Error("The renderer was given an object with no vars property.");if(!e.blocks)throw new Error("The renderer was given an object with no blocks property.");var o="";if(!r){sa("Setting vars (".concat(e.vars.length,")"));var i,a=at(e.vars);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.condition){var c=s.condition();c?(sa('Setting var "'.concat(s.name,'" (condition is currently true)')),sn(s.name,s.value())):sa('Not setting var "'.concat(s.name,'" (condition is currently false)'))}else sa('Setting var "'.concat(s.name,'"')),sn(s.name,s.value())}}catch(e){a.e(e)}finally{a.f()}}var l=[],u={};return e.blocks.forEach((function(e){switch(e.type){case"text":var r={text:e.content,startsNewParagraph:!0},i=l.filter((function(e){return!!e.mod.processRaw}));sa("Running ".concat(i.length," modifiers on raw source block")),i.forEach((function(e){e.mod.processRaw(r,{state:u[e.mod],invocation:e.invocation})})),r.text=aa(Br(r.text),t);var a=l.filter((function(e){return!!e.mod.process}));sa("Running ".concat(a.length," modifiers on source block")),a.forEach((function(e){return e.mod.process(r,{state:u[e.mod],invocation:e.invocation})})),sa("Output after modifiers: ".concat(JSON.stringify(r))),""!==r.text.trim()&&(""!==o&&(o+=r.startsNewParagraph?"\n\n":" "),o+=r.text),l=[];break;case"modifier":var s=n.filter((function(t){return t.match.test(e.content)}));if(1===s.length){var c=s[0];sa('Activated "'.concat(c.name,'" modifier matching [').concat(e.content,"]")),u[c]=u[c]||{},l.push({mod:c,invocation:e.content})}else 0===s.length||console.warn('More than one modifier matched "['.concat(e.content,']".')),o+="\n\n[".concat(e.content,"]\n\n");break;default:throw new Error("Don't know how to render a block with type \"".concat(e.type,'".'))}})),o=o.replace(/^((>|-|\*).*$)\n+\2/gm,"$1\n$2"),ra.setOptions(ca),sa("Final Markdown:\n".concat(o)),ra(o)}var ua={"config.template.inserts":ko,"config.template.modifiers":Mo};function fa(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return la(Wo(e),un("config.template.inserts")||[],un("config.template.modifiers")||[],t)}var pa=Nt("extensibility").warn;function da(e){return e.split(".").map(window.parseInt)}function ha(e,t,n){var r,o=e.volume,i=t-o,a=0;return new Promise((function(t){return window.requestAnimationFrame((function(s){r=s,window.requestAnimationFrame((function s(c){a+=c-r,e.volume=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}(a,o,i,n),a<n?(r=c,window.requestAnimationFrame(s)):t()}))}))}))}var ga,ma=Nt("sound"),ba=ma.log,va=ma.warn,ya={},wa={"sound.mute":!1,"sound.volume":1,"sound.transitionDuration":"1s"};function ka(e,t,n){ya[e]?(ya[e].setAttribute("src",t),n?ya[e].setAttribute("preload","auto"):ya[e].removeAttribute("preload"),ba('Updated <audio> element in sound bank for "'.concat(e,'" to use ').concat(t))):(ya[e]=document.createElement("audio"),ya[e].setAttribute("src",t),n&&ya[e].setAttribute("preload","auto"),ga.appendChild(ya[e]),ba('Added new <audio> element to sound bank for "'.concat(e,'" for ').concat(t)))}function xa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!ya[e])throw new Error("There is no sound loaded named ".concat(e,"."));return ba('Playing sound "'.concat(e,'" (looping: ').concat(t,")")),n>0&&(ya[e].volume=0,ha(ya[e],1,n)),t?(ya[e].loop=!0,ya[e].play()):(ya[e].loop=!1,new Promise((function(t,n){try{ya[e].addEventListener("ended",(function n(){ya[e].removeEventListener("ended",n),t()})),ya[e].play().catch((function(e){return n(e)}))}catch(e){n(e)}})))}function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!ya[e])throw new Error("There is no sound loaded named ".concat(e,"."));if(t<=0)ya[e].pause(),ya[e].currentTime=0;else{var n=ya[e].volume;ha(ya[e],0,t).then((function(){ya[e].pause(),ya[e].volume=n,ya[e].currentTime=0}))}}function _a(e,t){if(!ya[e])throw new Error("There is no sound loaded named ".concat(e,"."));if(t<0||t>1)throw new Error("A sound volume must be between 0 and 1.");ya[e].volume=t}function Ea(e,t){if(!ya[e])throw new Error("There is no sound loaded named ".concat(e,"."));ya[e].muted=t}var Ca="1.2.3";var Aa={exports:{}};(function(e,t,n){function r(e){var t=this,n=function(){var e=4022871197,t=function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var n=new r(e),i=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.alea=i})(0,Aa,!1);var Oa={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i}(0,e,!1)}(Oa);var Ta={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i}(0,e,!1)}(Ta);var ja={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.x&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i}(0,e,!1)}(ja);var za={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),o=0,i=-32;i<c;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&(i.X&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i}(0,e,!1)}(za);var La={exports:{}};!function(e){!function(e,t,n){function r(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var n=new r(e),i=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,i&&("object"==typeof i&&o(i,n),a.state=function(){return o(n,{})}),a}t&&t.exports?t.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i}(0,e,!1)}(La);var Na={exports:{}};!function(e){!function(t,n){var r,o=(0,eval)("this"),i=256,a=n.pow(i,6),s=n.pow(2,52),c=2*s,l=255;function u(e,l,u){var m=[],b=h(d((l=1==l?{entropy:!0}:l||{}).entropy?[e,g(t)]:null==e?function(){try{var e;return r&&(e=r.randomBytes)?e=e(i):(e=new Uint8Array(i),(o.crypto||o.msCrypto).getRandomValues(e)),g(e)}catch(e){var n=o.navigator,a=n&&n.plugins;return[+new Date,o,a,o.screen,g(t)]}}():e,3),m),v=new f(m),y=function(){for(var e=v.g(6),t=a,n=0;e<s;)e=(e+n)*i,t*=i,n=v.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/4294967296},y.double=y,h(g(v.S),t),(l.pass||u||function(e,t,r,o){return o&&(o.S&&p(o,v),e.state=function(){return p(v,{})}),r?(n.random=e,t):e})(y,b,"global"in l?l.global:this==n,l.state)}function f(e){var t,n=e.length,r=this,o=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<i;)s[o]=o++;for(o=0;o<i;o++)s[o]=s[a=l&a+e[o%n]+(t=s[o])],s[a]=t;(r.g=function(e){for(var t,n=0,o=r.i,a=r.j,s=r.S;e--;)t=s[o=l&o+1],n=n*i+s[l&(s[o]=s[a=l&a+t])+(s[a]=t)];return r.i=o,r.j=a,n})(i)}function p(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(d(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function h(e,t){for(var n,r=e+"",o=0;o<r.length;)t[l&o]=l&(n^=19*t[l&o])+r.charCodeAt(o++);return g(t)}function g(e){return String.fromCharCode.apply(0,e)}if(n.seedrandom=u,h(n.random(),t),e.exports){e.exports=u;try{r=require("crypto")}catch(e){}}}([],Math)}(Na);var $a=Aa.exports,Ia=Oa.exports,Da=Ta.exports,Pa=ja.exports,qa=za.exports,Ra=La.exports,Ma=Na.exports;Ma.alea=$a,Ma.xor128=Ia,Ma.xorwow=Da,Ma.xorshift7=Pa,Ma.xor4096=qa,Ma.tychei=Ra;var Fa=Ma,Ba={"config.random.seed":function(){return new Date},"config.random.privateState":null},Ua=Fa(new Date,{state:!0});We.on("state-change",(function(e){var t=e.name,n=e.value;"config.random.seed"===t&&(Ua=Fa(n,{state:!0}))}));var Ha=Nt("style").log,Za=document.createElement("div"),Wa=document.createElement("div"),Ja=document.createElement("div"),Ga={};function Va(e,t,n){var r=t.match(/\.(.+)$/);if(r&&r[1]){var o=r[1],i=Ga[e]||document.createElement("style");i.dataset.cbFontLoader=e,i.innerHTML='@font-face { font-family: "'.concat(n,'"; src: url("').concat(t,'") format("').concat(o,'"); }'),i.parentNode||Ja.appendChild(i)}}var Ya={white:"#ffffff",black:"#000000",gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Xa=/-?\d+(\.\d+)?%?/g;var Ka=function(e){return e.match(Xa)};var Qa=function(e,t,n){return Math.min(Math.max(e,t),n)},es=Ka,ts=Qa;function ns(e,t){switch(e=parseFloat(e),t){case 0:return ts(e,0,360);case 1:case 2:return ts(e,0,100);case 3:return ts(e,0,1)}}var rs=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t},os=Ka,is=Qa;function as(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*is(parseInt(e,10),0,100)/100):is(parseInt(e,10),0,255):is(parseFloat(e),0,1)}var ss=function(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0==s)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),o=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[l]=255*i;return o},cs=function(e){return es(e).map(ns)},ls=rs,us=function(e){return os(e).map(as)},fs=ss;var ps={"#":ls,hsl:function(e){var t=cs(e),n=fs(t);return 4===t.length&&n.push(t[3]),n},rgb:us};function ds(e){for(var t in ps)if(0===e.indexOf(t))return ps[t](e)}ds.rgb=us,ds.hsl=cs,ds.hex=ls;var hs=ds;var gs=function(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),c=s-a;return s==a?t=0:r==s?t=(o-i)/c:o==s?t=2+(i-r)/c:i==s&&(t=4+(r-o)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]};function ms(e){if("string"!=typeof e)throw new Error("Only strings can be parsed as color values.");Ya[e]&&(e=Array.isArray(Ya[e])?Ya[e][Ya[e].length-1]:Ya[e]);var t=/^(\w+)-(\d)$/.exec(e);t&&Ya[t[1]]&&(e=Ya[t[1]][t[2]]);var n=hs(e),r=gs(n);return r[3]=void 0!==n[3]?n[3]:1,"hsla(".concat(r[0],", ").concat(r[1],"%, ").concat(r[2],"%, ").concat(r[3],")")}function bs(e){if(void 0===e)return{"background-color":"inherit",color:"inherit"};if("string"!=typeof e)throw new Error("Only strings can be parsed as colors.");var t={color:"inherit","background-color":"inherit"},n=e.split(/ on /i);return t.color=ms(n[0].trim().toLowerCase()),2===n.length&&(t["background-color"]=ms(n[1].trim().toLowerCase())),t}var vs,ys,ws=Nt("style").log,ks={"config.style.backdrop":"gray-0","config.style.page.style":"shadow","config.style.page.style.borderColor":"gray-2","config.style.page.font":"Iowan Old Style/Constantia/Georgia/serif 18","config.style.page.color":"gray-9 on white","config.style.page.fork.divider.color":"gray-3","config.style.page.fork.divider.style":"dashed","config.style.page.fork.divider.size":1,"config.style.page.link.color":"gray-9","config.style.page.link.lineColor":"red-8","config.style.page.link.font":"underline","config.style.page.link.active.color":"red-8 on red-0","config.style.page.verticalAlign":"center","config.style.page.header.font":"16","config.style.page.header.link.font":"small caps","config.style.page.footer.font":"16","config.style.page.footer.link.font":"small caps"},xs={},Ss=document.createElement("style");function _s(e,t){xs[e]=xs[e]||{},Object.assign(xs[e],t),function(){function e(e,t){return e+"{"+Object.keys(t).sort().reduce((function(e,n){return t[n]?e+n+":"+t[n].toString()+";":e}),"")+"}"}Ss.innerHTML=Object.keys(xs).reduce((function(t,n){return t+e(n,xs[n])}),"")}()}function Es(e,t){var n="#page",r=e.replace(/^config\.style\.page\./i,"").split(".");switch("header"===r[0].toLowerCase()?(n+=" header",r.shift()):"footer"===r[0].toLowerCase()&&(n+=" footer",r.shift()),"link"===r[0].toLowerCase()&&(n+=" a",r.shift()),"active"===r[0].toLowerCase()&&(n="".concat(n,":hover, ").concat(n,":active"),r.shift()),r[0].toLowerCase()){case"color":ws("Setting color for ".concat(n)),_s(n,bs(t));break;case"linecolor":ws("Setting line color for ".concat(n));var o=bs(t).color;_s(n,{"text-decoration-color":o,"-webkit-text-decoration-color":o});break;case"font":ws("Setting font for ".concat(n)),_s(n,function(e){var t={"font-family":"inherit","font-size":"inherit","font-style":"inherit","font-weight":"inherit","letter-spacing":"inherit","text-decoration":"inherit","text-transform":"inherit"};if(void 0===e)return t;if("string"!=typeof e)throw new Error("Only strings can be parsed as fonts.");function n(e,t){e["font-family"]=t.split("/").map((function(e){var t=e;return'"'!==t[0]&&(t='"'+t),'"'!==t[t.length-1]&&(t+='"'),t})).join(",")}function r(e){e["font-weight"]="bold"}function o(e){e["font-style"]="italic"}function i(e){e["font-style"]="none",e["font-weight"]="normal",e["letter-spacing"]="normal",e["text-decoration"]="none",e["text-transform"]="none"}function a(e){e["letter-spacing"]="0.075em",e["text-transform"]="uppercase",e["font-size"]&&"inherit"!==e["font-size"]?e["font-size"]="calc(0.7 * ".concat(e["font-size"],")"):e["font-size"]="70%"}function s(e){e["text-decoration"]="underline"}var c=/\b\d+(?:\.\d+)?(ch|cm|ex|in|mm|pc|pt|px|r?em|vh|vmax|vmin|vw|%)?/i.exec(e);if(c){/^\d+$/.test(c[0])?t["font-size"]=c[0]+"px":t["font-size"]=c[0],0!==c.index&&n(t,e.substr(0,c.index).trim());var l=e.substr(c.index);/\bregular\b/i.test(l)?(t["font-style"]="none",t["font-weight"]="normal",t["letter-spacing"]="normal",t["text-decoration"]="none",t["text-transform"]="none"):(/\bbold\b/.test(l)&&r(t),/\bitalics?\b/.test(l)&&o(t),/\bunderlined?/.test(l)&&s(t),/\bsmall caps?\b/.test(l)&&a(t))}else{for(var u,f=e;u=/(bold|italics?|regular|small caps|underlined?)$/.exec(f);){switch(u[0]){case"bold":r(t);break;case"italic":case"italics":o(t);break;case"regular":i(t);break;case"small caps":a(t);break;case"underline":case"underlined":s(t)}f=f.substr(0,u.index).trim()}""!==f.trim()&&n(t,f)}return t}(t))}}Rt(document.querySelector("tw-storydata")),window.engine={extend:function(e,t){var n=un("engine.version"),r=da(e),o=da(n);o[0]<r[0]?pa("The current engine version (".concat(n,") has a lower major version than requested (").concat(e,"); skipping")):(o[0]>r[0]?pa("The current engine version (".concat(n,") has a higher major version than requested (").concat(e,"); running code but you may encounter problems")):(o[1]<r[1]&&pa("The current engine version (".concat(n,") has a lower minor version than requested (").concat(e,"); running code but you may encounter problems")),o[1]===r[1]&&o[2]<r[2]&&pa("The current engine version (".concat(n,") has a lower patch version than requested (").concat(e,"); running code but you may encounter problems"))),t())},event:We,log:zt,render:fa,state:yn,story:Vt,warn:Lt},rn(),Object.assign(window,{go:kn,restart:xn}),Za.dataset.cbGoogleFontLoader="",Za.setAttribute("hidden",!0),Wa.dataset.cbTypekitFontLoader="",Wa.setAttribute("hidden",!0),Ja.dataset.cbUrlFontLoader="",Ja.setAttribute("hidden",!0),document.body.appendChild(Za),document.body.appendChild(Wa),document.body.appendChild(Ja),We.on("state-change",(function(e){var t=e.name;if("config"===t||"config.style"===t||"config.style.fonts"===t){var n=un("config.style.fonts");if(!n)return;Object.keys(n).forEach((function(e){var t=n[e].name,r=n[e].url;t&&r&&Va(e,r,t)}))}else{var r=t.match(/^config\.style\.fonts\.([^.]+)/i);if(r){var o=r[1],i=un("config.style.fonts.".concat(o,".name")),a=un("config.style.fonts.".concat(o,".url"));return void(a&&i&&(Ha("Adding font from URL (".concat(i,")")),Va(o,a,i)))}}an(t,"config.style.googleFont")&&(Ha("Adding Google font"),Za.innerHTML=un("config.style.googleFont")),an(t,"config.style.typekitFont")&&(Ha("Adding Typekit font"),Wa.innerHTML=un("config.style.typekitFont"))})),Ss.dataset.cbAuthorStyles="",document.head.appendChild(Ss),We.on("state-change",(function(e){var t=e.name,n=e.value;if(an(t,"config.style.backdrop")&&(ws("Setting backdrop color"),_s("#backdrop",{"background-color":bs(un("config.style.backdrop")).color})),an(t,"config.style.page.fork.divider.color")&&(ws("Setting fork divider color"),_s("#page .fork p a + a",{"border-top-color":bs(un("config.style.page.fork.divider.color")).color})),an(t,"config.style.page.fork.divider.size")&&(ws("Setting fork divider size"),_s("#page .fork p a + a",{"border-top-width":"".concat(un("config.style.page.fork.divider.size"),"px")})),an(t,"config.style.page.fork.divider.style")&&(ws("Setting fork divider style"),_s("#page .fork p a + a",{"border-top-style":un("config.style.page.fork.divider.style")})),an(t,"config.style.page.style")||an(t,"config.style.page.style.borderColor"))switch(ws("Setting page style"),un("config.style.page.style")){case"none":_s("#page",{border:"none","box-shadow":"none"});break;case"shadow":_s("#page",{border:"none","box-shadow":"0 4px 8px hsla(0, 0%, 0%, 0.25)"});break;case"thick-line":_s("#page",{border:"4px solid ".concat(bs(un("config.style.page.style.borderColor")).color),"box-shadow":"none"});break;case"thin-line":_s("#page",{border:"1px solid ".concat(bs(un("config.style.page.style.borderColor")).color),"box-shadow":"none"})}if(an(t,"config.style.page.verticalAlign"))switch(ws("Setting page vertical alignment"),un("config.style.page.verticalAlign")){case"top":_s("#page article",{"align-items":"flex-start"});break;case"center":_s("#page article",{"align-items":"center"});break;case"bottom":_s("#page article",{"align-items":"flex-end"})}/^config\.style\.page\..*\.((line)?color|font)$/i.test(t)&&Es(t,n),an(t,"config.style.page")&&["config.style.page","config.style.page.header","config.style.page.footer"].forEach((function(e){var t=un(e);t&&function(e,t){["color","font","lineColor"].forEach((function(n){t[n]&&Es("".concat(e,".").concat(n),t[n]),t.link&&(t.link[n]&&Es("".concat(e,".link.").concat(n),t.link[n]),t.link.active&&t.link.active[n]&&Es("".concat(e,".link.active.").concat(n),t.link.active[n]))}))}(e,t)}))})),[to,Tt,Ba,wa,en,ks,ua].forEach((function(e){return Object.keys(e).forEach((function(t){"function"==typeof e[t]?cn(t,e[t]()):cn(t,e[t])}))})),function(e){e("browser.height",(function(){return window.innerHeight})),e("browser.online",(function(){return window.navigator.onLine})),e("browser.width",(function(){return window.innerWidth}))}(ln),function(e){e("engine.version",(function(){return Ca}))}(ln),function(e){e("now.second",(function(){return(new Date).getSeconds()})),e("now.minute",(function(){return(new Date).getMinutes()})),e("now.hour",(function(){return(new Date).getHours()})),e("now.day",(function(){return(new Date).getDate()})),e("now.weekday",(function(){return(new Date).getDay()+1})),e("now.weekdayName",(function(){return(new Date).toLocaleString(navigator.language,{weekday:"long"})})),e("now.month",(function(){return(new Date).getMonth()+1})),e("now.monthName",(function(){return(new Date).toLocaleString(navigator.language,{month:"long"})})),e("now.year",(function(){return(new Date).getFullYear()})),e("now.timestamp",(function(){return(new Date).toLocaleString(navigator.language,{hour:"numeric",minute:"numeric",second:"numeric"})}))}(ln),function(e){e("passage.name",(function(){var e=un("trail");if(e)return e[e.length-1]})),e("passage.visits",(function(){var e=un("trail"),t=un("passage.name");if(e)return e.reduce((function(e,n){return n===t?e+1:e}),0)}))}(ln),function(e){e("random.coinFlip",(function(){return Ua()>.5})),e("random.fraction",(function(){return Ua()})),[4,5,6,8,10,12,20,25,50,100,1e3].forEach((function(t){e("random.d".concat(t),(function(){return 1+Math.round(Ua()*(t-1))}))}))}(ln),function(e){e("story.name",Ht)}(ln),window.addEventListener("error",Yr),window.addEventListener("unhandledrejection",(function(e){return Yr(e.reason)})),vs=window.console.warn,ys=document.querySelector("#page .warnings"),console.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(un("config.testing"))try{ys.removeAttribute("hidden"),t.forEach((function(e){var t=document.createElement("li");t.className="warning",t.innerHTML="Warning: ".concat(_r(e)),ys.appendChild(t)}))}catch(e){}vs.apply(window.console,t)},We.on("state-change",(function(e){"trail"===e.name&&(ys.setAttribute("hidden",""),ys.innerHTML="")})),Xr=document.querySelector("#page article"),Qr=document.querySelector("#page #spinner"),Kr={},["header","footer"].forEach((function(e){Kr[e]={container:document.querySelector("#page ".concat(e))},["left","center","right"].forEach((function(t){Kr[e][t]=document.querySelector("#page ".concat(e," .").concat(t))}))})),We.on("state-change",(function(e){var t=e.name;return ao("trail"===t)})),["change","click"].forEach((function(e){document.body.addEventListener(e,(function(e){for(var t=e.target;t;)t.dataset&&Object.keys(t.dataset).some((function(e){return/^cb[A-Z]/.test(e)}))&&We.emit("dom-".concat(e.type),t),t=t.parentNode}))})),(ga=document.createElement("div")).setAttribute("hidden",!0),ga.dataset.cbSounds="",document.body.appendChild(ga),We.on("state-change",(function(e){var t=e.name,n=e.value,r=an(t,"sound.ambient"),o=an(t,"sound.effect");if(r){var i=un("sound.ambient");i&&Object.keys(i).forEach((function(e){i[e].url&&ka(e,i[e].url,!1),i[e].volume&&_a(e,i[e].volume),void 0!==i[e].muted&&Ea(e,i[e].muted),i[e].playing&&xa(e,!0).catch((function(t){return va('Could not resume playing ambient sound "'.concat(e,'" (').concat(t.message,")"))}))}))}if(o){var a=un("sound.effect");a&&Object.keys(a).forEach((function(e){a[e].url&&ka(e,a[e].url,!0),a[e].volume&&_a(e,a[e].volume),void 0!==a[e].muted&&Ea(e,a[e].muted),a[e].playing&&xa(e,!1).then((function(){return sn("sound.effect.".concat(e,".playing"),!1)})).catch((function(t){return va('Could not resume playing sound effect "'.concat(e,'" (').concat(t.message))}))}))}if(!r&&!o){var s=/^sound\.(ambient|effect)\.(.+?)\.(.+)$/i.exec(t);if(s)switch(s[3].toLowerCase()){case"playing":n?"ambient"===s[1]?xa(s[2],!0,Hr(un("".concat(s[2],".transitionDuration"))||un("sound.transitionDuration")||"0s","ms")):xa(s[2],!1).then((function(){return sn(t,!1)})):"ambient"===s[1]?Sa(s[2],Hr(un("".concat(s[2],".transitionDuration"))||un("sound.transitionDuration")||"0s","ms")):Sa(s[2]);break;case"url":ka(s[2],n,"effect"===s[1]);break;case"volume":_a(s[2],n)}}})),Mt(),Pr&&un("config.testing")&&Dr(),!un("config.testing")&&gn()&&mn(),Bt(),Ft()}();
</script></body></html>